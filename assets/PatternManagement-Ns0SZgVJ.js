import{bo as e,bp as t,s as n,j as o,bq as r,y as s}from"./index-zx6LJBPK.js";import{r as i}from"./vendor-utils-XMmR-oGw.js";import{u as a,a as m,D as l,c as d,S as c,v as u,P as p,b as x,C as b}from"./sortable.esm-Nw3Rboz6.js";import{U as N,Y as v,j as E,T as D,_ as C,$ as f,a0 as V,a1 as g,X as h,l as P,P as j,a2 as L,I as O,a3 as U}from"./vendor-ui-uomqNFY-.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";const M=({isOpen:e,currentName:t,onConfirm:n,onClose:r})=>{const[a,m]=i.useState(t),l=i.useRef(null);i.useEffect(()=>{e&&(requestAnimationFrame(()=>m(t)),setTimeout(()=>l.current?.select(),0))},[e,t]);return e?s.createPortal(o.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",onClick:r,children:o.jsxDEV("div",{className:"bg-dark-bgSecondary border border-dark-border rounded-lg shadow-xl p-4 min-w-[300px]",onClick:e=>e.stopPropagation(),children:[o.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[o.jsxDEV("h3",{className:"text-sm font-semibold text-text-primary",children:"Rename Pattern"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:70,columnNumber:11},void 0),o.jsxDEV("button",{onClick:r,className:"p-1 text-text-muted hover:text-text-primary hover:bg-dark-bgTertiary rounded",children:o.jsxDEV(h,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:75,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:69,columnNumber:9},void 0),o.jsxDEV("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&a!==t&&n(a.trim()),r()},children:[o.jsxDEV("input",{ref:l,type:"text",value:a,onChange:e=>m(e.target.value),onKeyDown:e=>{"Escape"===e.key&&r()},className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded text-sm text-text-primary\n                     focus:outline-none focus:border-accent-primary",placeholder:"Enter pattern name",autoFocus:!0},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:79,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsxDEV("button",{type:"button",onClick:r,className:"px-3 py-1.5 text-sm text-text-secondary hover:text-text-primary\n                       hover:bg-dark-bgTertiary rounded transition-colors",children:"Cancel"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:91,columnNumber:13},void 0),o.jsxDEV("button",{type:"submit",disabled:!a.trim()||a===t,className:"px-3 py-1.5 text-sm bg-accent-primary text-text-inverse rounded\n                       hover:bg-accent-primary/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Rename"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:90,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:78,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:65,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:61,columnNumber:5},void 0),document.body):null},B=({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",danger:a=!1,onConfirm:m,onClose:l})=>{const d=i.useCallback(e=>{"Escape"===e.key?l():"Enter"===e.key&&(m(),l())},[l,m]);return i.useEffect(()=>{if(e)return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[e,d]),e?s.createPortal(o.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",onClick:l,children:o.jsxDEV("div",{className:"bg-dark-bgSecondary border border-dark-border rounded-lg shadow-xl p-4 min-w-[300px] max-w-[400px]",onClick:e=>e.stopPropagation(),children:[o.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[o.jsxDEV("h3",{className:"text-sm font-semibold text-text-primary",children:t},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:153,columnNumber:11},void 0),o.jsxDEV("button",{onClick:l,className:"p-1 text-text-muted hover:text-text-primary hover:bg-dark-bgTertiary rounded",children:o.jsxDEV(h,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:158,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:154,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:152,columnNumber:9},void 0),o.jsxDEV("p",{className:"text-sm text-text-secondary mb-4",children:n},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:161,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex justify-end gap-2",children:[o.jsxDEV("button",{onClick:l,className:"px-3 py-1.5 text-sm text-text-secondary hover:text-text-primary\n                     hover:bg-dark-bgTertiary rounded transition-colors",children:"Cancel"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:163,columnNumber:11},void 0),o.jsxDEV("button",{onClick:()=>{m(),l()},className:"px-3 py-1.5 text-sm rounded transition-colors "+(a?"bg-accent-error text-white hover:bg-accent-error/80":"bg-accent-primary text-text-inverse hover:bg-accent-primary/80"),children:r},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:162,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:148,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:144,columnNumber:5},void 0),document.body):null},X=({patternIndex:s,children:a})=>{const{position:m,open:l,close:d,isOpen:c}=e(),{isLiveMode:u,queuePattern:p,pendingPatternIndex:x}=t(),{patterns:b,currentPatternIndex:h,setCurrentPattern:P,duplicatePattern:j,deletePattern:L,expandPattern:O,shrinkPattern:U,resizePattern:X,updatePatternName:y}=n(),[k,w]=i.useState(!1),[S,z]=i.useState(!1),R=b[s],T=x===s,A=h===s,I=b.length>1,Q=i.useCallback(e=>{y?.(s,e)},[s,y]),$=i.useCallback(()=>{L(s)},[s,L]),q=i.useCallback(e=>{X?.(s,e)},[s,X]),F=i.useMemo(()=>{const e=[];return u&&e.push({id:"queue",label:T?"Cancel Queue":"Queue Pattern",icon:o.jsxDEV(N,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:237,columnNumber:15},void 0),onClick:()=>{T?t.getState().clearQueue():p(s)}}),e.push({id:"edit",label:"Edit Pattern",icon:o.jsxDEV(v,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:252,columnNumber:13},void 0),disabled:A,onClick:()=>P(s)}),e.push({type:"divider"}),e.push({id:"duplicate",label:"Duplicate",icon:o.jsxDEV(E,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:263,columnNumber:13},void 0),onClick:()=>j(s)}),e.push({id:"delete",label:"Delete",icon:o.jsxDEV(D,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:271,columnNumber:13},void 0),danger:!0,disabled:!I,onClick:()=>z(!0)}),e.push({type:"divider"}),e.push({id:"rename",label:"Rename",icon:o.jsxDEV(C,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:283,columnNumber:13},void 0),onClick:()=>w(!0)}),e.push({id:"length",label:"Set Length",icon:o.jsxDEV(f,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:291,columnNumber:13},void 0),submenu:[{id:"length-16",label:"16 rows",checked:16===R?.length,onClick:()=>q(16)},{id:"length-32",label:"32 rows",checked:32===R?.length,onClick:()=>q(32)},{id:"length-64",label:"64 rows",checked:64===R?.length,onClick:()=>q(64)},{id:"length-128",label:"128 rows",checked:128===R?.length,onClick:()=>q(128)}]}),e.push({id:"expand",label:"Expand (2x)",icon:o.jsxDEV(f,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:324,columnNumber:13},void 0),onClick:()=>O?.(s)}),e.push({id:"shrink",label:"Shrink (1/2)",icon:o.jsxDEV(V,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:331,columnNumber:13},void 0),onClick:()=>U?.(s)}),e.push({type:"divider"}),e.push({id:"export",label:"Export Pattern",icon:o.jsxDEV(g,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:341,columnNumber:13},void 0),onClick:()=>{const e=JSON.stringify(R,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=`${R?.name||"pattern"}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)}}),e},[u,T,A,I,s,R,p,P,j,O,U,q]);return o.jsxDEV("div",{onContextMenu:l,children:[a,c&&o.jsxDEV(r,{items:F,position:m,onClose:d},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:377,columnNumber:9},void 0),o.jsxDEV(M,{isOpen:k,currentName:R?.name||"",onConfirm:Q,onClose:()=>w(!1)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:385,columnNumber:7},void 0),o.jsxDEV(B,{isOpen:S,title:"Delete Pattern",message:`Delete pattern "${R?.name}"? This cannot be undone.`,confirmLabel:"Delete",danger:!0,onConfirm:$,onClose:()=>z(!1)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:393,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternContextMenu.tsx",lineNumber:374,columnNumber:5},void 0)},y=({pattern:e,index:t,isActive:n,isQueued:r,isEditing:s,editName:i,onSelect:a,onStartEdit:m,onSaveEdit:l,onCancelEdit:d,onEditNameChange:c,onClone:u,onDelete:p})=>{const{attributes:N,listeners:v,setNodeRef:C,transform:f,transition:V,isDragging:g}=x({id:e.id}),P={transform:b.Transform.toString(f),transition:V,opacity:g?.5:1};return o.jsxDEV(X,{patternIndex:t,children:o.jsxDEV("div",{ref:C,style:P,className:`\n          flex items-center gap-2 px-3 py-2 border-b border-dark-border\n          ${n?"bg-accent-primary text-text-inverse":"bg-dark-bg text-text-primary hover:bg-dark-bgHover"}\n          ${r?"ring-2 ring-orange-500 ring-inset animate-pulse":""}\n          transition-colors cursor-pointer\n        `,children:[o.jsxDEV("div",{...N,...v,className:"cursor-grab active:cursor-grabbing "+(n?"text-text-inverse/70":"text-text-muted hover:text-text-primary"),children:o.jsxDEV(L,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:84,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:79,columnNumber:7},void 0),o.jsxDEV("div",{onClick:a,className:"flex-shrink-0 w-6 text-xs font-mono font-bold text-center",children:t.toString().padStart(2,"0")},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:88,columnNumber:7},void 0),s?o.jsxDEV("div",{className:"flex-1 flex items-center gap-1",children:[o.jsxDEV("input",{type:"text",value:i,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&l(),"Escape"===e.key&&d()},className:"flex-1 px-2 py-0.5 text-xs font-mono bg-dark-bg border border-accent-primary text-text-primary rounded focus:outline-none",autoFocus:!0,onClick:e=>e.stopPropagation()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:98,columnNumber:11},void 0),o.jsxDEV("button",{onClick:e=>{e.stopPropagation(),l()},className:"p-0.5 hover:text-accent-success",title:"Save",children:o.jsxDEV(O,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:118,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:110,columnNumber:11},void 0),o.jsxDEV("button",{onClick:e=>{e.stopPropagation(),d()},className:"p-0.5 hover:text-accent-error",title:"Cancel",children:o.jsxDEV(h,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:128,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:120,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:97,columnNumber:9},void 0):o.jsxDEV("div",{onClick:a,className:"flex-1 text-xs font-mono truncate",children:e.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:132,columnNumber:9},void 0),o.jsxDEV("div",{onClick:a,className:"flex-shrink-0 text-xs font-mono "+(n?"text-text-inverse/70":"text-text-muted"),children:e.length},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:141,columnNumber:7},void 0),!s&&o.jsxDEV("div",{className:"flex items-center gap-1",children:[r&&o.jsxDEV("span",{className:"text-orange-500 text-xs mr-1",title:"Queued",children:"â³"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:152,columnNumber:13},void 0),o.jsxDEV("button",{onClick:e=>{e.stopPropagation(),m()},className:"p-0.5 "+(n?"hover:text-text-inverse":"hover:text-accent-primary"),title:"Rename",children:o.jsxDEV(U,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:162,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:154,columnNumber:11},void 0),o.jsxDEV("button",{onClick:e=>{e.stopPropagation(),u()},className:"p-0.5 "+(n?"hover:text-text-inverse":"hover:text-accent-primary"),title:"Clone",children:o.jsxDEV(E,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:172,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:164,columnNumber:11},void 0),o.jsxDEV("button",{onClick:e=>{e.stopPropagation(),p()},className:"p-0.5 hover:text-accent-error",title:"Delete",children:o.jsxDEV(D,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:182,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:150,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:68,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:67,columnNumber:5},void 0)},k=()=>{const{patterns:e,currentPatternIndex:r,setCurrentPattern:s,addPattern:x,deletePattern:b,clonePattern:N,resizePattern:v,reorderPatterns:E,updatePatternName:D}=n(),{pendingPatternIndex:C}=t(),[f,V]=i.useState(null),[g,h]=i.useState(""),[L,O]=i.useState(64),[U,M]=i.useState(null),B=a(m(p,{activationConstraint:{distance:8}})),X=()=>{null!==f&&g.trim()&&D(f,g.trim()),V(null),h("")},k=()=>{V(null),h("")};return o.jsxDEV("div",{className:"flex flex-col h-full bg-dark-bg border-l border-dark-border",children:[o.jsxDEV("div",{className:"bg-dark-bgTertiary border-b border-dark-border px-4 py-3",children:o.jsxDEV("div",{className:"font-mono text-sm text-text-primary font-semibold tracking-wide",children:"PATTERN MANAGER"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:281,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:280,columnNumber:7},void 0),o.jsxDEV("div",{className:"bg-dark-bgSecondary border-b border-dark-border p-4 space-y-3",children:[o.jsxDEV("div",{className:"flex items-center gap-3",children:[o.jsxDEV("label",{className:"text-xs font-mono text-text-secondary",children:"Size:"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:289,columnNumber:11},void 0),o.jsxDEV("select",{value:L,onChange:e=>O(Number(e.target.value)),className:"flex-1 input text-xs font-mono",children:[o.jsxDEV("option",{value:16,children:"16 rows"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:295,columnNumber:13},void 0),o.jsxDEV("option",{value:32,children:"32 rows"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:296,columnNumber:13},void 0),o.jsxDEV("option",{value:64,children:"64 rows"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:297,columnNumber:13},void 0),o.jsxDEV("option",{value:128,children:"128 rows"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:298,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:290,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:288,columnNumber:9},void 0),o.jsxDEV("button",{onClick:()=>{x(L)},className:"w-full btn-primary flex items-center justify-center gap-2 py-2.5",children:[o.jsxDEV(P,{size:16},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:305,columnNumber:11},void 0),o.jsxDEV("span",{className:"font-semibold",children:"Add Pattern"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:306,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:301,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:287,columnNumber:7},void 0),o.jsxDEV("div",{className:"bg-dark-bgSecondary border-b border-dark-border px-4 py-3",children:[o.jsxDEV("div",{className:"text-xs font-mono text-text-muted mb-2",children:"Current Pattern"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:312,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex items-center justify-between",children:[o.jsxDEV("span",{className:"text-sm font-mono text-accent-primary font-bold",children:e[r]?.name||"None"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:314,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex items-center gap-2",children:[o.jsxDEV("label",{className:"text-xs font-mono text-text-muted",children:"Resize:"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:318,columnNumber:13},void 0),o.jsxDEV("select",{value:e[r]?.length||64,onChange:e=>{return t=r,n=Number(e.target.value),void v(t,n);var t,n},className:"input px-2 py-1 text-xs font-mono",children:[o.jsxDEV("option",{value:16,children:"16"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:324,columnNumber:15},void 0),o.jsxDEV("option",{value:32,children:"32"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:325,columnNumber:15},void 0),o.jsxDEV("option",{value:64,children:"64"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:326,columnNumber:15},void 0),o.jsxDEV("option",{value:128,children:"128"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:327,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:319,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:317,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:313,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:311,columnNumber:7},void 0),o.jsxDEV("div",{className:"flex-1 overflow-y-auto scrollbar-modern",children:o.jsxDEV(l,{sensors:B,collisionDetection:d,onDragEnd:t=>{const{active:n,over:o}=t;if(o&&n.id!==o.id){const t=e.findIndex(e=>e.id===n.id),r=e.findIndex(e=>e.id===o.id);E(t,r)}},children:o.jsxDEV(c,{items:e.map(e=>e.id),strategy:u,children:e.map((t,n)=>o.jsxDEV(y,{pattern:t,index:n,isActive:n===r,isQueued:C===n,isEditing:f===n,editName:g,onSelect:()=>s(n),onStartEdit:()=>(t=>{V(t),h(e[t].name)})(n),onSaveEdit:X,onCancelEdit:k,onEditNameChange:h,onClone:()=>(e=>{N(e)})(n),onDelete:()=>(t=>{1!==e.length?U===t?(b(t),M(null)):(M(t),setTimeout(()=>M(null),3e3)):alert("Cannot delete the last pattern")})(n)},t.id,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:345,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:340,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:335,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:334,columnNumber:7},void 0),o.jsxDEV("div",{className:"bg-dark-bgSecondary border-t border-dark-border p-4",children:[o.jsxDEV("div",{className:"text-xs font-mono text-text-muted mb-3",children:"PLAYBACK SEQUENCE"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:368,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-1.5",children:e.map((e,t)=>o.jsxDEV("div",{className:`\n                px-2.5 py-1.5 text-xs font-mono rounded-md border transition-all\n                ${t===r?"bg-accent-primary text-text-inverse border-accent-primary glow-sm":"bg-dark-bg text-text-primary border-dark-border hover:border-dark-borderLight"}\n                cursor-pointer\n              `,onClick:()=>s(t),title:e.name,children:t.toString().padStart(2,"0")},e.id,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:373,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:371,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex items-center gap-2 mt-3 text-xs font-mono text-text-muted",children:[o.jsxDEV(j,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:391,columnNumber:11},void 0),o.jsxDEV("span",{children:"Drag patterns to reorder playback"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:392,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:390,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:367,columnNumber:7},void 0),null!==U&&o.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-accent-error text-white px-4 py-2 rounded-lg shadow-lg font-mono text-xs animate-fade-in",children:"Click DELETE again to confirm"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/pattern/PatternManagement.tsx",lineNumber:278,columnNumber:5},void 0)};export{k as PatternManagement};
