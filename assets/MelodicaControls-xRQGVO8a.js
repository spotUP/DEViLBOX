import{aG as e,j as o,aH as s,c as n}from"./index-zx6LJBPK.js";import{r as t}from"./vendor-utils-XMmR-oGw.js";import{VSTBridgePanel as r}from"./VSTBridgePanel-D9pws1pV.js";import{w as l}from"./vendor-ui-uomqNFY-.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";const i=0,m=1,a=2,c=3,d=4,u=5,N=6,p=7,x=8,b=9,f=[.7,.5,4.5,.2,5,.15,.1,.15,.2,.8],v=({instrument:v,onChange:V})=>{const[C,D]=t.useState([...f]),[E,h]=t.useState(!1),j=t.useRef(null),g="cyan-lineart"===e(e=>e.currentThemeId),M=g?"#00ffff":"#2dd4bf",B=g?"#00ffff":"#2dd4bf";t.useEffect(()=>{let e=!1;const o=async()=>{try{const s=n(),t=s.getInstrumentKey(v.id,-1),r=s.instruments?.get(t);if(!r||!("setParameter"in r))return void setTimeout(()=>{e||o()},500);if("ensureInitialized"in r&&await r.ensureInitialized(),j.current=r,"getParams"in r){const o=r.getParams().map(e=>e.defaultValue);e||(D(o),h(!0))}else e||h(!0)}catch{setTimeout(()=>{e||o()},1e3)}};return o(),()=>{e=!0}},[v.id]);const L=t.useCallback((e,o)=>{D(s=>{const n=[...s];return n[e]=o,n}),j.current&&j.current.setParameter(e,o)},[]);if(!E)return o.jsxDEV("div",{className:"flex flex-col gap-4 p-4",children:[o.jsxDEV("div",{className:"flex items-center justify-center gap-2 p-4 text-gray-400",children:[o.jsxDEV(l,{size:16,className:"animate-spin"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:103,columnNumber:11},void 0),o.jsxDEV("span",{className:"text-sm",children:"Loading Melodica..."},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:102,columnNumber:9},void 0),o.jsxDEV(r,{instrument:v,onChange:V},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:106,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:101,columnNumber:7},void 0);const O=g?"bg-[#051515] border-cyan-900/50":"bg-[#1a1a1a] border-teal-900/30";return o.jsxDEV("div",{className:"flex flex-col gap-4 p-4 overflow-y-auto",children:[o.jsxDEV("div",{className:`p-4 rounded-xl border ${O}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-3",style:{color:M},children:"Breath & Dynamics"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:119,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-4 justify-center",children:[o.jsxDEV(s,{label:"Breath",value:C[i],min:0,max:1,defaultValue:.7,onChange:e=>L(i,e),size:"md",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:126,columnNumber:11},void 0),o.jsxDEV(s,{label:"Attack",value:C[p],min:0,max:1,defaultValue:.15,onChange:e=>L(p,e),size:"md",color:B,formatValue:e=>`${Math.round(1e3*e)}ms`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:136,columnNumber:11},void 0),o.jsxDEV(s,{label:"Release",value:C[x],min:0,max:1,defaultValue:.2,onChange:e=>L(x,e),size:"md",color:B,formatValue:e=>`${Math.round(1e3*e)}ms`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:147,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:125,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:118,columnNumber:7},void 0),o.jsxDEV("div",{className:`p-4 rounded-xl border ${O}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-3",style:{color:M},children:"Tone"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:163,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-4 justify-center",children:[o.jsxDEV(s,{label:"Brightness",value:C[m],min:0,max:1,defaultValue:.5,onChange:e=>L(m,e),size:"md",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:170,columnNumber:11},void 0),o.jsxDEV(s,{label:"Noise",value:C[u],min:0,max:1,defaultValue:.15,onChange:e=>L(u,e),size:"md",color:B,formatValue:e=>`${Math.round(100*e)}%`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:180,columnNumber:11},void 0),o.jsxDEV(s,{label:"Detune",value:C[d],min:-50,max:50,defaultValue:5,onChange:e=>L(d,e),size:"md",color:B,bipolar:!0,formatValue:e=>`${e>0?"+":""}${Math.round(e)}ct`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:191,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:169,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:162,columnNumber:7},void 0),o.jsxDEV("div",{className:`p-4 rounded-xl border ${O}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-3",style:{color:M},children:"Vibrato"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:208,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-4 justify-center",children:[o.jsxDEV(s,{label:"Rate",value:C[a],min:0,max:10,defaultValue:4.5,onChange:e=>L(a,e),size:"md",color:B,formatValue:e=>`${e.toFixed(1)}Hz`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:215,columnNumber:11},void 0),o.jsxDEV(s,{label:"Depth",value:C[c],min:0,max:1,defaultValue:.2,onChange:e=>L(c,e),size:"md",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:226,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:214,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:207,columnNumber:7},void 0),o.jsxDEV("div",{className:`p-4 rounded-xl border ${O}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-3",style:{color:M},children:"Playing & Output"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:241,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-4 justify-center",children:[o.jsxDEV(s,{label:"Portamento",value:C[N],min:0,max:1,defaultValue:.1,onChange:e=>L(N,e),size:"md",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:248,columnNumber:11},void 0),o.jsxDEV(s,{label:"Volume",value:C[b],min:0,max:1,defaultValue:.8,onChange:e=>L(b,e),size:"md",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:258,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:247,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:240,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/MelodicaControls.tsx",lineNumber:116,columnNumber:5},void 0)};export{v as MelodicaControls};
