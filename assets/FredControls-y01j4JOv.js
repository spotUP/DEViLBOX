import{aG as e,j as o,aH as s}from"./index-zx6LJBPK.js";import{r}from"./vendor-utils-XMmR-oGw.js";import"./EffectChain-C3LgFJxX.js";import"./sortable.esm-Nw3Rboz6.js";import{E as t}from"./EnvelopeVisualization-BefL2nEr.js";import{S as n}from"./SequenceEditor-aRgu4BDV.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";import"./vendor-ui-uomqNFY-.js";import"./useVisualizationAnimation-D37DdYyX.js";const l=[{name:"Major",data:[0,4,7,0,4,7,12,12,0,4,7,0,4,7,12,12],loop:0},{name:"Minor",data:[0,3,7,0,3,7,12,12,0,3,7,0,3,7,12,12],loop:0},{name:"Octave",data:[0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,12],loop:0},{name:"Clear",data:new Array(16).fill(0)}],i=({config:i,onChange:m})=>{const[a,d]=r.useState("envelope"),c=r.useRef(i);r.useEffect(()=>{c.current=i},[i]);const u="cyan-lineart"===e(e=>e.currentThemeId),p=u?"#00ffff":"#ff8800",N=u?"#00ffff":"#ffaa44",x=u?"#004444":"#332200",v=u?"bg-[#041510] border-cyan-900/50":"bg-[#1a0e00] border-orange-900/30",b=r.useCallback((e,o)=>{m({[e]:o})},[m]),V=({label:e})=>o.jsxDEV("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:p,opacity:.7},children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:48,columnNumber:5},void 0),C=({label:e,value:s,min:r,max:t,onChange:n,signed:l,width:i="52px"})=>o.jsxDEV("div",{className:"flex items-center gap-1.5",children:[o.jsxDEV("span",{className:"text-[10px] text-gray-400 w-20 text-right whitespace-nowrap",children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:59,columnNumber:7},void 0),o.jsxDEV("input",{type:"number",value:s,min:l?r:Math.max(0,r),max:t,onChange:e=>{const o=parseInt(e.target.value);isNaN(o)||n(Math.max(r,Math.min(t,o)))},className:"text-xs font-mono text-center border rounded px-1 py-0.5",style:{width:i,background:"#0a0800",borderColor:x,color:p}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:60,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:58,columnNumber:5},void 0);return o.jsxDEV("div",{className:"flex flex-col h-full",children:[o.jsxDEV("div",{className:"flex border-b",style:{borderColor:x},children:[{id:"envelope",label:"Envelope"},{id:"pwm",label:"PWM"},{id:"arpeggio",label:"Arpeggio"},{id:"vibrato",label:"Vibrato"}].map(({id:e,label:s})=>o.jsxDEV("button",{onClick:()=>d(e),className:"px-4 py-2 text-xs font-bold uppercase tracking-wider transition-colors",style:{color:a===e?p:"#666",borderBottom:a===e?`2px solid ${p}`:"2px solid transparent",background:a===e?u?"#041510":"#1a0e00":"transparent"},children:s},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:281,columnNumber:11},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:279,columnNumber:7},void 0),"envelope"===a&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:[o.jsxDEV("div",{className:`rounded-lg border p-3 ${v}`,children:[o.jsxDEV(V,{label:"Envelope"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:79,columnNumber:9},void 0),o.jsxDEV("div",{className:"mb-3",children:o.jsxDEV(t,{mode:"steps",attackVol:i.attackVol,attackSpeed:i.attackSpeed,decayVol:i.decayVol,decaySpeed:i.decaySpeed,sustainVol:i.envelopeVol,sustainLen:i.sustainTime,releaseVol:i.releaseVol,releaseSpeed:i.releaseSpeed,maxVol:64,width:320,height:72,color:p},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:83,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:82,columnNumber:9},void 0),o.jsxDEV("div",{className:"grid grid-cols-4 gap-3 mb-3",children:[o.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[o.jsxDEV(s,{value:i.attackVol,min:0,max:64,step:1,onChange:e=>b("attackVol",Math.round(e)),label:"Atk Vol",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:98,columnNumber:13},void 0),o.jsxDEV(s,{value:i.attackSpeed,min:1,max:255,step:1,onChange:e=>b("attackSpeed",Math.round(e)),label:"Atk Spd",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:102,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:97,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[o.jsxDEV(s,{value:i.decayVol,min:0,max:64,step:1,onChange:e=>b("decayVol",Math.round(e)),label:"Dec Vol",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:109,columnNumber:13},void 0),o.jsxDEV(s,{value:i.decaySpeed,min:1,max:255,step:1,onChange:e=>b("decaySpeed",Math.round(e)),label:"Dec Spd",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:108,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[o.jsxDEV(s,{value:i.sustainTime,min:0,max:255,step:1,onChange:e=>b("sustainTime",Math.round(e)),label:"Sus Time",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:120,columnNumber:13},void 0),o.jsxDEV(s,{value:i.envelopeVol,min:0,max:64,step:1,onChange:e=>b("envelopeVol",Math.round(e)),label:"Init Vol",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:124,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:119,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[o.jsxDEV(s,{value:i.releaseVol,min:0,max:64,step:1,onChange:e=>b("releaseVol",Math.round(e)),label:"Rel Vol",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:131,columnNumber:13},void 0),o.jsxDEV(s,{value:i.releaseSpeed,min:1,max:255,step:1,onChange:e=>b("releaseSpeed",Math.round(e)),label:"Rel Spd",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:135,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:95,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:78,columnNumber:7},void 0),o.jsxDEV("div",{className:`rounded-lg border p-3 ${v}`,children:[o.jsxDEV(V,{label:"Relative Tuning"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:144,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex items-center gap-4",children:[o.jsxDEV(s,{value:i.relative,min:256,max:4096,step:1,onChange:e=>b("relative",Math.round(e)),label:"Relative",color:N,size:"md",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:146,columnNumber:11},void 0),o.jsxDEV("span",{className:"text-[10px] text-gray-500 max-w-[120px]",children:"1024 = no shift. Values <1024 pitch down, >1024 pitch up."},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:143,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:77,columnNumber:5},void 0),"pwm"===a&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:[o.jsxDEV("div",{className:`rounded-lg border p-3 ${v}`,children:[o.jsxDEV(V,{label:"Pulse Width Range"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:162,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex items-center gap-4",children:[o.jsxDEV(s,{value:i.pulsePosL,min:0,max:64,step:1,onChange:e=>b("pulsePosL",Math.round(e)),label:"Low",color:N,size:"md",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:164,columnNumber:11},void 0),o.jsxDEV(s,{value:i.pulsePosH,min:0,max:64,step:1,onChange:e=>b("pulsePosH",Math.round(e)),label:"High",color:N,size:"md",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:168,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex-1 h-4 rounded relative overflow-hidden",style:{background:"#111",border:`1px solid ${x}`},children:o.jsxDEV("div",{className:"absolute h-full",style:{left:i.pulsePosL/64*100+"%",width:`${Math.max(0,(i.pulsePosH-i.pulsePosL)/64*100)}%`,background:p,opacity:.4}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:173,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:172,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:163,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:161,columnNumber:7},void 0),o.jsxDEV("div",{className:`rounded-lg border p-3 ${v}`,children:[o.jsxDEV(V,{label:"PWM Modulation"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:184,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[o.jsxDEV(s,{value:i.pulseSpeed,min:1,max:255,step:1,onChange:e=>b("pulseSpeed",Math.round(e)),label:"Speed",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:186,columnNumber:11},void 0),o.jsxDEV(s,{value:i.pulseDelay,min:0,max:255,step:1,onChange:e=>b("pulseDelay",Math.round(e)),label:"Delay",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:190,columnNumber:11},void 0),o.jsxDEV(s,{value:i.pulseRatePos,min:0,max:127,step:1,onChange:e=>b("pulseRatePos",Math.round(e)),label:"Rate +",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:194,columnNumber:11},void 0),o.jsxDEV(s,{value:i.pulseRateNeg,min:-128,max:0,step:1,onChange:e=>b("pulseRateNeg",Math.round(e)),label:"Rate -",color:N,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:198,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:185,columnNumber:9},void 0),o.jsxDEV("div",{className:"mt-2 text-[9px] text-gray-600 font-mono",children:"PWM sweeps pulse width from Low→High at +Rate then High→Low at |Rate-|"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:203,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:183,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:160,columnNumber:5},void 0),"arpeggio"===a&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:[o.jsxDEV("div",{className:`rounded-lg border p-3 ${v}`,children:[o.jsxDEV(V,{label:"Arpeggio Settings"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:214,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex gap-4 mb-3",children:[o.jsxDEV(C,{label:"Active Steps",value:i.arpeggioLimit,min:0,max:16,onChange:e=>b("arpeggioLimit",e)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:216,columnNumber:11},void 0),o.jsxDEV(C,{label:"Speed (ticks)",value:i.arpeggioSpeed,min:1,max:255,onChange:e=>b("arpeggioSpeed",e)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:218,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:215,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:213,columnNumber:7},void 0),o.jsxDEV("div",{className:`rounded-lg border p-3 ${v}`,children:[o.jsxDEV(V,{label:"Arpeggio Table (semitone offsets)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:224,columnNumber:9},void 0),o.jsxDEV(n,{label:"Arpeggio",data:i.arpeggio,onChange:e=>b("arpeggio",e),min:-64,max:63,bipolar:!0,fixedLength:!0,showNoteNames:!0,presets:l,color:p,height:100},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:225,columnNumber:9},void 0),o.jsxDEV("p",{className:"text-[9px] text-gray-600 mt-1",children:["Steps 0–",i.arpeggioLimit-1," active (set by Active Steps limit above)"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:237,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:223,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:212,columnNumber:5},void 0),"vibrato"===a&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:o.jsxDEV("div",{className:`rounded-lg border p-3 ${v}`,children:[o.jsxDEV(V,{label:"Vibrato"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:248,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex gap-4",children:[o.jsxDEV(s,{value:i.vibratoDelay,min:0,max:255,step:1,onChange:e=>b("vibratoDelay",Math.round(e)),label:"Delay",color:N,size:"md",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:250,columnNumber:11},void 0),o.jsxDEV(s,{value:i.vibratoSpeed,min:0,max:63,step:1,onChange:e=>b("vibratoSpeed",Math.round(e)),label:"Speed",color:N,size:"md",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:254,columnNumber:11},void 0),o.jsxDEV(s,{value:i.vibratoDepth,min:0,max:63,step:1,onChange:e=>b("vibratoDepth",Math.round(e)),label:"Depth",color:N,size:"md",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:258,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:249,columnNumber:9},void 0),o.jsxDEV("div",{className:"mt-2 text-[9px] text-gray-600 font-mono",children:"Depth in 1/64th semitone units. Speed = ticks per LFO step."},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:263,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:247,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:246,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FredControls.tsx",lineNumber:278,columnNumber:5},void 0)};export{i as FredControls};
