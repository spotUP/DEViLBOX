import{aG as e,j as o,aH as s}from"./index-zx6LJBPK.js";import{r as t}from"./vendor-utils-XMmR-oGw.js";import"./EffectChain-C3LgFJxX.js";import"./sortable.esm-Nw3Rboz6.js";import{S as n}from"./SequenceEditor-aRgu4BDV.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";import"./vendor-ui-uomqNFY-.js";import"./useVisualizationAnimation-D37DdYyX.js";const r=({config:r,onChange:l})=>{const[i,m]=t.useState("params"),c=t.useRef(r);t.useEffect(()=>{c.current=r},[r]);const a="cyan-lineart"===e(e=>e.currentThemeId),d=a?"#00ffff":"#44aaff",u=a?"#00ffff":"#66bbff",p=a?"#004444":"#001833",N=a?"bg-[#041510] border-cyan-900/50":"bg-[#000e1a] border-blue-900/30",x=t.useCallback((e,o)=>{l({[e]:o})},[l]),b=({label:e})=>o.jsxDEV("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:d,opacity:.7},children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:57,columnNumber:5},void 0);return o.jsxDEV("div",{className:"flex flex-col h-full",children:[o.jsxDEV("div",{className:"flex border-b",style:{borderColor:p},children:[["params","Parameters"],["voltbl","Vol Table"],["wftbl","WF Table"],["waveform","Waveforms"]].map(([e,s])=>o.jsxDEV("button",{onClick:()=>m(e),className:"px-3 py-2 text-xs font-bold uppercase tracking-wider transition-colors",style:{color:i===e?d:"#666",borderBottom:i===e?`2px solid ${d}`:"2px solid transparent",background:i===e?a?"#041510":"#000e1a":"transparent"},children:s},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:314,columnNumber:11},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:312,columnNumber:7},void 0),"params"===i&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:[o.jsxDEV("div",{className:`rounded-lg border p-3 ${N}`,children:[o.jsxDEV(b,{label:"Playback"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:70,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[o.jsxDEV(s,{value:r.volume,min:0,max:64,step:1,onChange:e=>x("volume",Math.round(e)),label:"Volume",color:u,size:"md",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:72,columnNumber:11},void 0),o.jsxDEV(s,{value:r.voltblSpeed,min:0,max:15,step:1,onChange:e=>x("voltblSpeed",Math.round(e)),label:"Vol Tbl Speed",color:u,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:83,columnNumber:11},void 0),o.jsxDEV(s,{value:r.wfSpeed,min:0,max:15,step:1,onChange:e=>x("wfSpeed",Math.round(e)),label:"WF Speed",color:u,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:94,columnNumber:11},void 0),o.jsxDEV(s,{value:r.vibratoSpeed,min:0,max:255,step:1,onChange:e=>x("vibratoSpeed",Math.round(e)),label:"Vibrato Speed",color:u,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:105,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:71,columnNumber:9},void 0),o.jsxDEV("div",{className:"mt-2 text-[10px] text-gray-600",children:"Vol Tbl Speed / WF Speed: 0 = execute every output block"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:117,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:69,columnNumber:7},void 0),o.jsxDEV("div",{className:`rounded-lg border p-3 ${N}`,children:[o.jsxDEV(b,{label:"Loop (read-only reference)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:124,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex gap-6",children:[o.jsxDEV("div",{className:"flex flex-col gap-1",children:[o.jsxDEV("span",{className:"text-[10px] uppercase tracking-wider",style:{color:d,opacity:.5},children:"Loop Start"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:127,columnNumber:13},void 0),o.jsxDEV("span",{className:"text-sm font-mono",style:{color:"#004444"===p?"#00cccc":"#3399cc"},children:[r.loopStart," bytes"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:126,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex flex-col gap-1",children:[o.jsxDEV("span",{className:"text-[10px] uppercase tracking-wider",style:{color:d,opacity:.5},children:"Loop Length"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:135,columnNumber:13},void 0),o.jsxDEV("span",{className:"text-sm font-mono",style:{color:"#004444"===p?"#00cccc":"#3399cc"},children:[r.loopLen," bytes"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:138,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:134,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:125,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:123,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:67,columnNumber:5},void 0),"voltbl"===i&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:o.jsxDEV("div",{className:`rounded-lg border p-3 ${N}`,children:[o.jsxDEV(b,{label:"Vol Command Table (128 bytes)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:151,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-3 mb-3 text-[10px] font-mono",children:[o.jsxDEV("span",{style:{color:d},children:"FF = loop at current volume"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:155,columnNumber:11},void 0),o.jsxDEV("span",{style:{color:"#ff4444"},children:"FE = stop"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:156,columnNumber:11},void 0),o.jsxDEV("span",{style:{color:"#888"},children:"00–40 = set volume (0–64)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:157,columnNumber:11},void 0),o.jsxDEV("span",{style:{color:"#aaa"},children:"80–BF = wait N ticks"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:158,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:154,columnNumber:9},void 0),o.jsxDEV("div",{className:"grid gap-0.5",style:{gridTemplateColumns:"repeat(16, minmax(0, 1fr))"},children:Array.from(r.voltbl).map((e,s)=>{const t=function(e){return 255===e?"loop":254===e?"stop":e>=128&&e<=191?"wait":"vol"}(e);let n="#111",r="#555";return"loop"===t&&(n="#001a1a",r=d),"stop"===t&&(n="#1a0000",r="#ff4444"),"wait"===t&&(n="#0a0a0a",r="#777"),"vol"===t&&e>0&&(n="#001022",r="#3399cc"),o.jsxDEV("div",{className:"flex flex-col items-center",children:[o.jsxDEV("span",{className:"text-[8px] font-mono mb-0.5",style:{color:"#333"},children:s.toString(16).padStart(2,"0").toUpperCase()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:173,columnNumber:17},void 0),o.jsxDEV("input",{type:"number",value:e,min:0,max:255,onChange:e=>{const o=parseInt(e.target.value,10);if(!isNaN(o)){const e=new Uint8Array(c.current.voltbl);e[s]=Math.max(0,Math.min(255,o)),l({voltbl:e})}},className:"text-[9px] font-mono text-center border rounded py-0.5",style:{width:"100%",background:n,borderColor:"vol"!==t||e>0?p:"#1a1a1a",color:r,minWidth:0,padding:"2px 1px"}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:176,columnNumber:17},void 0)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:172,columnNumber:15},void 0)})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:161,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:150,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:149,columnNumber:5},void 0),"wftbl"===i&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:o.jsxDEV("div",{className:`rounded-lg border p-3 ${N}`,children:[o.jsxDEV(b,{label:"WF Command Table (128 bytes)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:211,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-3 mb-3 text-[10px] font-mono",children:[o.jsxDEV("span",{style:{color:d},children:"FF = loop"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:215,columnNumber:11},void 0),o.jsxDEV("span",{style:{color:"#ff4444"},children:"FE = stop"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:216,columnNumber:11},void 0),o.jsxDEV("span",{style:{color:"#44cc88"},children:"00–09 = select waveform 0–9"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:217,columnNumber:11},void 0),o.jsxDEV("span",{style:{color:"#aaa"},children:"80–BF = wait N ticks"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:218,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:214,columnNumber:9},void 0),o.jsxDEV("div",{className:"grid gap-0.5",style:{gridTemplateColumns:"repeat(16, minmax(0, 1fr))"},children:Array.from(r.wftbl).map((e,s)=>{const t=function(e){return 255===e?"loop":254===e?"stop":e>=128&&e<=191?"wait":e>=0&&e<=9?"wavesel":"other"}(e);let n="#111",r="#555";return"loop"===t&&(n="#001a1a",r=d),"stop"===t&&(n="#1a0000",r="#ff4444"),"wait"===t&&(n="#0a0a0a",r="#777"),"wavesel"===t&&(n="#001a08",r="#44cc88"),o.jsxDEV("div",{className:"flex flex-col items-center",children:[o.jsxDEV("span",{className:"text-[8px] font-mono mb-0.5",style:{color:"#333"},children:s.toString(16).padStart(2,"0").toUpperCase()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:233,columnNumber:17},void 0),o.jsxDEV("input",{type:"number",value:e,min:0,max:255,onChange:e=>{const o=parseInt(e.target.value,10);if(!isNaN(o)){const e=new Uint8Array(c.current.wftbl);e[s]=Math.max(0,Math.min(255,o)),l({wftbl:e})}},className:"text-[9px] font-mono text-center border rounded py-0.5",style:{width:"100%",background:n,borderColor:"other"!==t?p:"#1a1a1a",color:r,minWidth:0,padding:"2px 1px"}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:236,columnNumber:17},void 0)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:232,columnNumber:15},void 0)})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:221,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:210,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:209,columnNumber:5},void 0),"waveform"===i&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:[r.waveforms.map((e,s)=>o.jsxDEV("div",{className:`rounded-lg border p-3 ${N}`,children:[o.jsxDEV("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:d,opacity:.7},children:["Wave ",s+1]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:272,columnNumber:11},void 0),o.jsxDEV(n,{label:`Wave ${s+1}`,data:Array.from(e),onChange:e=>{const o=c.current.waveforms.map((o,t)=>t===s?new Int8Array(e):o);l({waveforms:o})},min:-128,max:127,bipolar:!0,fixedLength:!0,color:u,height:72},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:278,columnNumber:11},void 0)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:271,columnNumber:9},void 0)),0===r.waveforms.length&&o.jsxDEV("div",{className:"text-xs text-gray-600 p-3",children:"No waveforms defined."},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:297,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:269,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/OctaMEDControls.tsx",lineNumber:310,columnNumber:5},void 0)};export{r as OctaMEDControls};
