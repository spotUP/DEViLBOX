import{aG as e,j as o,aH as s}from"./index-zx6LJBPK.js";import{r as n}from"./vendor-utils-XMmR-oGw.js";import"./EffectChain-C3LgFJxX.js";import"./sortable.esm-Nw3Rboz6.js";import{E as t}from"./EnvelopeVisualization-BefL2nEr.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";import"./vendor-ui-uomqNFY-.js";import"./useVisualizationAnimation-D37DdYyX.js";const r={0:"Sawtooth",1:"Square",2:"Triangle",3:"Noise",4:"Saw+Sq",5:"Saw+Tri",6:"Sq+Tri",7:"Pulse 1",8:"Pulse 2",9:"Pulse 3",10:"Pulse 4",11:"Pulse 5"};function l(e){return r[e]??`Wave ${e}`}const i=({config:r,onChange:i})=>{const[m,c]=n.useState("envelope"),a=n.useRef(r);n.useEffect(()=>{a.current=r},[r]);const u="cyan-lineart"===e(e=>e.currentThemeId),d=u?"#00ffff":"#ffdd44",p=u?"#00ffff":"#ffee77",N=u?"#004444":"#332a00",x=u?"bg-[#041510] border-cyan-900/50":"bg-[#1a1500] border-yellow-900/30",b=n.useCallback((e,o)=>{i({[e]:o})},[i]),C=({label:e})=>o.jsxDEV("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:d,opacity:.7},children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:51,columnNumber:5},void 0);return o.jsxDEV("div",{className:"flex flex-col h-full",children:[o.jsxDEV("div",{className:"flex border-b",style:{borderColor:N},children:[{id:"envelope",label:"Envelope"},{id:"synth",label:"Synth Macro"},{id:"arpeggio",label:"Arpeggio"}].map(({id:e,label:s})=>o.jsxDEV("button",{onClick:()=>c(e),className:"px-4 py-2 text-xs font-bold uppercase tracking-wider transition-colors",style:{color:m===e?d:"#666",borderBottom:m===e?`2px solid ${d}`:"2px solid transparent",background:m===e?u?"#041510":"#1a1500":"transparent"},children:s},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:271,columnNumber:11},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:269,columnNumber:7},void 0),"envelope"===m&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:[o.jsxDEV("div",{className:`rounded-lg border p-3 ${x}`,children:[o.jsxDEV(C,{label:"Base Waveform"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:62,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex items-center gap-3",children:[o.jsxDEV("select",{value:r.waveNumber,onChange:e=>b("waveNumber",parseInt(e.target.value)),className:"text-xs font-mono border rounded px-2 py-1.5",style:{background:"#100d00",borderColor:N,color:d},children:Array.from({length:47},(e,s)=>o.jsxDEV("option",{value:s,style:{background:"#111",color:"#ccc"},children:[s,": ",l(s)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:70,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:64,columnNumber:11},void 0),o.jsxDEV("span",{className:"text-[10px] text-gray-500",children:"Initial waveform (overridden by synth macro)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:75,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:63,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:61,columnNumber:7},void 0),o.jsxDEV("div",{className:`rounded-lg border p-3 ${x}`,children:[o.jsxDEV(C,{label:"Volume Envelope"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:81,columnNumber:9},void 0),o.jsxDEV("div",{className:"mb-3",children:o.jsxDEV(t,{mode:"steps",attackVol:r.atkVolume,attackSpeed:r.atkLength,decayVol:r.decVolume,decaySpeed:r.decLength,sustainVol:r.sustVolume,sustainLen:32,releaseVol:0,releaseSpeed:r.relLength,maxVol:64,color:p,width:300,height:56},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:83,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:82,columnNumber:9},void 0),o.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[o.jsxDEV(s,{value:r.atkLength,min:0,max:255,step:1,onChange:e=>b("atkLength",Math.round(e)),label:"Atk Len",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:96,columnNumber:13},void 0),o.jsxDEV(s,{value:r.atkVolume,min:0,max:64,step:1,onChange:e=>b("atkVolume",Math.round(e)),label:"Atk Vol",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:100,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:95,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[o.jsxDEV(s,{value:r.decLength,min:0,max:255,step:1,onChange:e=>b("decLength",Math.round(e)),label:"Dec Len",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:106,columnNumber:13},void 0),o.jsxDEV(s,{value:r.decVolume,min:0,max:64,step:1,onChange:e=>b("decVolume",Math.round(e)),label:"Dec Vol",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:110,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:105,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[o.jsxDEV(s,{value:r.relLength,min:0,max:255,step:1,onChange:e=>b("relLength",Math.round(e)),label:"Rel Len",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:116,columnNumber:13},void 0),o.jsxDEV(s,{value:r.sustVolume,min:0,max:64,step:1,onChange:e=>b("sustVolume",Math.round(e)),label:"Sus Vol",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:115,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:80,columnNumber:7},void 0),o.jsxDEV("div",{className:`rounded-lg border p-3 ${x}`,children:[o.jsxDEV(C,{label:"Vibrato"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:130,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex gap-4",children:[o.jsxDEV(s,{value:r.vibDelay,min:0,max:255,step:1,onChange:e=>b("vibDelay",Math.round(e)),label:"Delay",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:132,columnNumber:11},void 0),o.jsxDEV(s,{value:r.vibSpeed,min:0,max:63,step:1,onChange:e=>b("vibSpeed",Math.round(e)),label:"Speed",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:136,columnNumber:11},void 0),o.jsxDEV(s,{value:r.vibDepth,min:0,max:63,step:1,onChange:e=>b("vibDepth",Math.round(e)),label:"Depth",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:140,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:131,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:129,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:59,columnNumber:5},void 0),"synth"===m&&(()=>{const e=(e,o,s)=>{const n=a.current.synthTable.map((n,t)=>t===e?{...n,[o]:s}:n);i({synthTable:n})};return o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:o.jsxDEV("div",{className:`rounded-lg border p-3 ${x}`,children:[o.jsxDEV(C,{label:"Synth Macro Sequencer"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:161,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex items-center gap-4 mb-3",children:[o.jsxDEV(s,{value:r.synthSpeed,min:0,max:15,step:1,onChange:e=>b("synthSpeed",Math.round(e)),label:"Speed",color:p,size:"sm",formatValue:e=>Math.round(e).toString()},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:163,columnNumber:13},void 0),o.jsxDEV("span",{className:"text-[10px] text-gray-500",children:"Ticks per macro step (0 = disabled)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:167,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:162,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex font-mono text-[10px] text-gray-500 px-1 border-b mb-1",style:{borderColor:N},children:[o.jsxDEV("span",{className:"w-6 text-center",children:"#"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:173,columnNumber:13},void 0),o.jsxDEV("span",{className:"w-28 text-center",children:"Waveform"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:174,columnNumber:13},void 0),o.jsxDEV("span",{className:"w-12 text-center",children:"Trans"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:175,columnNumber:13},void 0),o.jsxDEV("span",{className:"w-12 text-center",children:"FX"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:176,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:171,columnNumber:11},void 0),o.jsxDEV("div",{className:"overflow-y-auto",style:{maxHeight:"260px"},children:r.synthTable.map((s,n)=>o.jsxDEV("div",{className:"flex items-center gap-1 py-0.5 font-mono",children:[o.jsxDEV("span",{className:"w-6 text-center text-[10px] text-gray-600",children:n.toString().padStart(2,"0")},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:182,columnNumber:17},void 0),o.jsxDEV("select",{value:s.waveNum,onChange:o=>e(n,"waveNum",parseInt(o.target.value)),className:"text-[10px] font-mono border rounded px-1",style:{width:"108px",background:"#100d00",borderColor:N,color:d},children:Array.from({length:47},(e,s)=>o.jsxDEV("option",{value:s,style:{background:"#111",color:"#ccc"},children:[s,": ",l(s)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:191,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:185,columnNumber:17},void 0),o.jsxDEV("input",{type:"number",value:s.transposition,min:-64,max:63,onChange:o=>{const s=parseInt(o.target.value);isNaN(s)||e(n,"transposition",Math.max(-64,Math.min(63,s)))},className:"text-[10px] font-mono text-center border rounded py-0.5",style:{width:"44px",background:"#100d00",borderColor:N,color:0!==s.transposition?"#ffcc44":"#444"}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:196,columnNumber:17},void 0),o.jsxDEV("input",{type:"number",value:s.effect,min:0,max:15,onChange:o=>{const s=parseInt(o.target.value);isNaN(s)||e(n,"effect",Math.max(0,Math.min(15,s)))},className:"text-[10px] font-mono text-center border rounded py-0.5",style:{width:"40px",background:"#100d00",borderColor:N,color:0!==s.effect?"#ff8844":"#444"}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:205,columnNumber:17},void 0)]},n,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:181,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:179,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:160,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:159,columnNumber:7},void 0)})(),"arpeggio"===m&&o.jsxDEV("div",{className:"flex flex-col gap-3 p-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 280px)"},children:o.jsxDEV("div",{className:`rounded-lg border p-3 ${x}`,children:[o.jsxDEV(C,{label:"Arpeggio Table (semitone offsets)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:226,columnNumber:9},void 0),o.jsxDEV("div",{className:"grid grid-cols-8 gap-1",children:r.arpTable.map((e,s)=>o.jsxDEV("div",{className:"flex flex-col items-center gap-0.5",children:[o.jsxDEV("span",{className:"text-[9px] font-mono text-gray-600",children:s.toString().padStart(2,"0")},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:230,columnNumber:15},void 0),o.jsxDEV("input",{type:"number",value:e,min:-64,max:63,onChange:e=>{const o=parseInt(e.target.value);if(!isNaN(o)){const e=[...a.current.arpTable];e[s]=Math.max(-64,Math.min(63,o)),b("arpTable",e)}},className:"text-[10px] font-mono text-center border rounded py-0.5",style:{width:"36px",background:"#0e0c00",borderColor:0!==e?N:"#1a1a1a",color:0!==e?d:"#444"}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:233,columnNumber:15},void 0)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:229,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:227,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:225,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:224,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/FCControls.tsx",lineNumber:268,columnNumber:5},void 0)};export{i as FCControls};
