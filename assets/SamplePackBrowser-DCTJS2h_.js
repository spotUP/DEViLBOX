import{u as e,br as s,bs as t,c as r,j as o,bt as n,bu as i,v as l,bv as a}from"./index-zx6LJBPK.js";import{r as m,R as c}from"./vendor-utils-XMmR-oGw.js";import{start as d,Player as u}from"./vendor-tone-CADp_hfL.js";import{g as p}from"./AudioContextSingleton-BmUieoGD.js";import{a4 as b,a5 as f,a6 as x,a7 as N,X as v,T as h,H as D,a8 as E,P as g,Z as B,I as V,m as w,e as k,a9 as C}from"./vendor-ui-uomqNFY-.js";import"./vendor-react-DkDaD07v.js";const S={kicks:"Kicks",snares:"Snares",hihats:"Hi-Hats",claps:"Claps",percussion:"Percussion",fx:"FX",bass:"Bass",leads:"Leads",pads:"Pads",loops:"Loops",vocals:"Vocals",other:"Other"};async function L(e){if("v1"===localStorage.getItem(i))return!1;if(!e.startsWith("/data/samples/packs/"))return!1;const s=await async function(e){if(!("caches"in window))return!0;try{const s=await caches.open(a);return!!(await s.match(e))}catch{return!0}}(e);return!s&&(l.warning("Sample packs are still downloading — try again in a moment"),!0)}const y=({onClose:i,mode:l="instrument",onSelectSample:a})=>{const{currentInstrumentId:y,updateInstrument:P,setPreviewInstrument:j}=e(),{uploadZip:U,uploadDirectory:O,removeUserPack:X}=s(),z=t(),A="drumpad"===l,[I,R]=m.useState(z[0]||null),[F,$]=m.useState("kicks"),[M,G]=m.useState(""),[T,K]=m.useState(new Set),[Z,_]=m.useState(null),[H,q]=m.useState(!1),[J,W]=m.useState(!1),[,Q]=m.useState(!1),[Y,ee]=m.useState(null),se=m.useRef(null),te=m.useRef(0),re=m.useRef(!0),oe=m.useRef(null),ne=m.useRef(null),ie=m.useRef(null),le=c.useMemo(()=>{if(0===T.size||!I)return null;const e=Array.from(T)[T.size-1];for(const s of I.categories){const t=I.samples[s].find(s=>s.url===e);if(t)return t}return null},[T,I]),ae=c.useMemo(()=>le?{id:999,name:`Preview: ${le.name}`,type:"sample",synthType:"Sampler",sample:{url:le.url,baseNote:"C4",detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1,playbackRate:1},effects:[],volume:-6,pan:0}:null,[le]);m.useEffect(()=>{if(!A){if(ae){j(ae);try{r().invalidateInstrument(999)}catch{}}else j(null);return()=>{j(null);try{r().invalidateInstrument(999)}catch{}}}},[ae,j,A]),m.useEffect(()=>{if(A)return;const e=e=>{if("INPUT"===document.activeElement?.tagName)return;const s={z:"C4",s:"C#4",x:"D4",d:"D#4",c:"E4",v:"F4",g:"F#4",b:"G4",h:"G#4",n:"A4",j:"A#4",m:"B4",",":"C5",q:"C5",2:"C#5",w:"D5",3:"D#5",e:"E5",r:"F5",5:"F#5",t:"G5",6:"G#5",y:"A5",7:"A#5",u:"B5",i:"C6"}[e.key.toLowerCase()];if(s&&le&&ae){r().triggerPolyNoteAttack(999,s,1,ae)}},s=e=>{if("INPUT"===document.activeElement?.tagName)return;const s={z:"C4",s:"C#4",x:"D4",d:"D#4",c:"E4",v:"F4",g:"F#4",b:"G4",h:"G#4",n:"A4",j:"A#4",m:"B4",",":"C5",q:"C5",2:"C#5",w:"D5",3:"D#5",e:"E5",r:"F5",5:"F#5",t:"G5",6:"G#5",y:"A5",7:"A#5",u:"B5",i:"C6"}[e.key.toLowerCase()];if(s&&le&&ae){r().triggerPolyNoteRelease(999,s,ae)}};return window.addEventListener("keydown",e),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",s)}},[le,ae,A]),m.useEffect(()=>(re.current=!0,()=>{re.current=!1,se.current&&(se.current.stop(),se.current.dispose())}),[]),m.useEffect(()=>{I&&!z.find(e=>e.id===I.id)?(R(z[0]||null),K(new Set)):!I&&z.length>0&&R(z[0])},[z,I]);const me=(()=>{if(!I)return[];const e=I.samples[F]||[];if(!M.trim())return e;const s=M.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(s)||e.filename.toLowerCase().includes(s))})(),ce=async e=>{if(await L(e.url))return;const s=++te.current;try{se.current&&(se.current.stop(),se.current.dispose(),se.current=null),await d(),ee(e.url),Q(!0);const t=new u({url:n(e.url),onload:()=>{te.current===s&&t.start()},onstop:()=>{te.current===s&&(Q(!1),ee(null))}}).toDestination();se.current=t}catch(t){te.current===s&&(Q(!1),ee(null))}},de=async()=>{if(0===T.size||!I)return;const s=Array.from(T)[0];if(await L(s))return;const t=Array.from(T),o=[];for(const e of t)for(const s of I.categories){const t=I.samples[s].find(s=>s.url===e);if(t){o.push(t);break}}const{createInstrument:n,getInstrument:l}=e.getState(),a=o[0];let m;null!==y&&l(y)?(P(y,{type:"sample",name:a.name,synthType:"Sampler",sample:{url:a.url,baseNote:"C4",detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1,playbackRate:1},effects:[],volume:-6,pan:0}),m=y):m=n({type:"sample",name:a.name,synthType:"Sampler",sample:{url:a.url,baseNote:"C4",detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1,playbackRate:1},effects:[],volume:-6,pan:0});try{r().invalidateInstrument(m)}catch{}if(o.length>1)for(let e=1;e<o.length;e++){const s=o[e];n({type:"sample",name:s.name,synthType:"Sampler",sample:{url:s.url,baseNote:"C4",detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1,playbackRate:1},effects:[],volume:-6,pan:0})}j(null);try{r().invalidateInstrument(999)}catch{}try{const s=e.getState().instruments;r().preloadInstruments(s).catch(()=>{})}catch{}i()},ue=async()=>{if(0===T.size||!I||!a)return;const e=Array.from(T)[0];if(await L(e))return;let s;for(const r of I.categories)if(s=I.samples[r].find(s=>s.url===e),s)break;if(s){W(!0);try{const e=p(),t=await fetch(n(s.url));if(!t.ok)throw new Error(`Failed to fetch sample: ${t.status}`);const r=await t.arrayBuffer(),o=await e.decodeAudioData(r),l={id:`pack_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:s.name,audioBuffer:o,duration:o.duration,sampleRate:o.sampleRate};a(l),i()}catch(t){alert("Failed to load sample. Please try again.")}finally{re.current&&W(!1)}}},pe=e=>{switch(e){case"kicks":return o.jsxDEV(C,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:619,columnNumber:16},void 0);case"snares":return o.jsxDEV(C,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:621,columnNumber:16},void 0);case"hihats":return o.jsxDEV(w,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:623,columnNumber:16},void 0);case"percussion":return o.jsxDEV(w,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:625,columnNumber:16},void 0);case"fx":return o.jsxDEV(k,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:627,columnNumber:16},void 0);default:return o.jsxDEV(w,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:629,columnNumber:16},void 0)}},be=e=>({kicks:"text-red-400",snares:"text-orange-400",hihats:"text-yellow-400",claps:"text-pink-400",percussion:"text-purple-400",fx:"text-green-400"}[e]||"text-ft2-highlight");return o.jsxDEV("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 pt-16",children:o.jsxDEV("div",{className:"w-full h-full bg-ft2-bg flex flex-col overflow-hidden border-t-2 border-ft2-border relative",children:[(H||J)&&o.jsxDEV("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-black/60 backdrop-blur-sm",children:o.jsxDEV("div",{className:"p-6 bg-ft2-header border-2 border-ft2-highlight rounded-xl shadow-2xl flex flex-col items-center gap-4",children:[o.jsxDEV(b,{size:48,className:"text-ft2-highlight animate-bounce"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:653,columnNumber:15},void 0),o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("h3",{className:"text-ft2-highlight font-black text-xl tracking-tighter",children:J?"DECODING...":"PACKING..."},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:655,columnNumber:17},void 0),o.jsxDEV("p",{className:"text-ft2-textDim text-xs font-bold uppercase",children:"Processing audio files"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:658,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:654,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:652,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:651,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 bg-ft2-header border-b-2 border-ft2-border",children:[o.jsxDEV("div",{className:"flex items-center gap-3",children:[o.jsxDEV(b,{size:20,className:"text-ft2-highlight"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:667,columnNumber:13},void 0),o.jsxDEV("div",{children:[o.jsxDEV("h2",{className:"text-ft2-highlight font-bold text-sm",children:A?"SELECT SAMPLE":"SAMPLE PACKS"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:669,columnNumber:15},void 0),o.jsxDEV("p",{className:"text-ft2-textDim text-xs",children:"Browse and load samples"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:672,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:668,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:666,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex items-center gap-2",children:[o.jsxDEV("button",{onClick:()=>ie.current?.click(),className:"flex items-center gap-2 px-3 py-1.5 bg-ft2-bg border border-ft2-border hover:border-ft2-highlight text-ft2-text rounded transition-colors text-xs font-bold",title:"Upload single audio file",children:[o.jsxDEV(f,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:681,columnNumber:15},void 0),"AUDIO"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:676,columnNumber:13},void 0),o.jsxDEV("button",{onClick:()=>oe.current?.click(),className:"flex items-center gap-2 px-3 py-1.5 bg-ft2-bg border border-ft2-border hover:border-ft2-highlight text-ft2-text rounded transition-colors text-xs font-bold",title:"Upload ZIP pack",children:[o.jsxDEV(x,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:689,columnNumber:15},void 0),"ZIP"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:684,columnNumber:13},void 0),o.jsxDEV("button",{onClick:()=>ne.current?.click(),className:"flex items-center gap-2 px-3 py-1.5 bg-ft2-bg border border-ft2-border hover:border-ft2-highlight text-ft2-text rounded transition-colors text-xs font-bold",title:"Upload Folder (supports Max for Live device folders)",children:[o.jsxDEV(N,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:697,columnNumber:15},void 0),"FOLDER / M4L"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:692,columnNumber:13},void 0),o.jsxDEV("button",{onClick:i,className:"p-2 text-ft2-textDim hover:text-ft2-text hover:bg-ft2-border rounded transition-colors",children:o.jsxDEV(v,{size:20},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:704,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:700,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:675,columnNumber:11},void 0),o.jsxDEV("input",{ref:ie,type:"file",accept:"audio/*,.wav,.mp3,.ogg,.flac",className:"hidden",onChange:async s=>{const t=s.target.files?.[0];if(t){W(!0);try{const s=p(),r=await t.arrayBuffer(),o=await s.decodeAudioData(r),n=t.name.replace(/\.[^/.]+$/,"");if(A&&a){const e={id:`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:n,audioBuffer:o,duration:o.duration,sampleRate:o.sampleRate};a(e),i()}else{const s=new Blob([r],{type:t.type||"audio/wav"}),o=URL.createObjectURL(s),{createInstrument:l}=e.getState();l({type:"sample",name:n,synthType:"Sampler",sample:{url:o,baseNote:"C4",detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1,playbackRate:1},effects:[],volume:-6,pan:0}),i()}}catch(r){alert("Failed to load audio file. Ensure it's a valid audio format.")}finally{re.current&&W(!1),ie.current&&(ie.current.value="")}}}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:709,columnNumber:11},void 0),o.jsxDEV("input",{ref:oe,type:"file",accept:".zip",className:"hidden",onChange:async e=>{const s=e.target.files?.[0];if(s){q(!0);try{const e=await U(s);re.current&&(R(e),e.categories.length>0&&$(e.categories[0]))}catch{re.current&&alert("Failed to load ZIP pack. Ensure it contains audio files.")}finally{re.current&&q(!1)}oe.current&&(oe.current.value="")}}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:716,columnNumber:11},void 0),o.jsxDEV("input",{ref:ne,type:"file",webkitdirectory:"",directory:"",className:"hidden",onChange:async e=>{const s=e.target.files;if(s&&0!==s.length){q(!0);try{const e=await O(s);re.current&&(R(e),e.categories.length>0&&$(e.categories[0]))}catch{re.current&&alert("Failed to load directory. Ensure it contains audio files.")}finally{re.current&&q(!1)}ne.current&&(ne.current.value="")}}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:723,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:665,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxDEV("div",{className:"w-64 bg-ft2-header border-r border-ft2-border flex flex-col",children:[o.jsxDEV("div",{className:"p-3 border-b border-ft2-border",children:o.jsxDEV("h3",{className:"text-ft2-text font-bold text-xs mb-2",children:"AVAILABLE PACKS"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:736,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:735,columnNumber:13},void 0),o.jsxDEV("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-ft2",children:z.map(e=>o.jsxDEV("button",{onClick:()=>{R(e),e.categories.length>0&&$(e.categories[0])},className:"w-full p-3 rounded mb-2 text-left transition-all group "+(I?.id===e.id?"bg-ft2-cursor text-ft2-bg":"bg-ft2-bg border border-ft2-border hover:border-ft2-highlight"),children:o.jsxDEV("div",{className:"flex items-start gap-3",children:[e.coverImage?o.jsxDEV("img",{src:n(e.coverImage),alt:e.name,className:"w-12 h-12 rounded object-cover shrink-0"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:757,columnNumber:23},void 0):o.jsxDEV("div",{className:"w-12 h-12 rounded shrink-0 flex items-center justify-center border "+(I?.id===e.id?"bg-ft2-bg/20 border-ft2-bg/30 text-ft2-bg":"bg-ft2-bg border-ft2-border text-ft2-highlight"),children:o.jsxDEV(b,{size:20},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:768,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:763,columnNumber:23},void 0),o.jsxDEV("div",{className:"flex-1 min-w-0",children:[o.jsxDEV("div",{className:"flex items-center justify-between gap-1",children:[o.jsxDEV("div",{className:"font-bold text-sm truncate "+(I?.id===e.id?"text-ft2-bg":"text-ft2-text"),children:e.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:773,columnNumber:25},void 0),e.isUserUploaded&&o.jsxDEV("button",{onClick:s=>((e,s)=>{e.stopPropagation(),confirm("Are you sure you want to remove this sample pack?")&&X(s)})(s,e.id),className:"p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity "+(I?.id===e.id?"hover:bg-ft2-bg/20 text-ft2-bg":"hover:bg-ft2-border text-red-400"),children:o.jsxDEV(h,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:787,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:781,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:772,columnNumber:23},void 0),o.jsxDEV("div",{className:"text-xs truncate "+(I?.id===e.id?"text-ft2-bg/70":"text-ft2-textDim"),children:["by ",e.author]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:791,columnNumber:23},void 0),o.jsxDEV("div",{className:"text-xs mt-1 "+(I?.id===e.id?"text-ft2-bg/70":"text-ft2-textDim"),children:[e.sampleCount," samples"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:798,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:771,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:755,columnNumber:19},void 0)},e.id,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:740,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:738,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:734,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:I?o.jsxDEV(o.Fragment,{children:[o.jsxDEV("div",{className:"px-4 py-3 bg-ft2-header border-b border-ft2-border shrink-0",children:o.jsxDEV("div",{className:"flex items-center gap-4",children:[I.coverImage?o.jsxDEV("img",{src:n(I.coverImage),alt:I.name,className:"w-16 h-16 rounded object-cover border border-ft2-border"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:820,columnNumber:23},void 0):o.jsxDEV("div",{className:"w-16 h-16 rounded bg-ft2-bg border border-ft2-border flex items-center justify-center text-ft2-highlight",children:o.jsxDEV(b,{size:32},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:827,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:826,columnNumber:23},void 0),o.jsxDEV("div",{children:[o.jsxDEV("h3",{className:"text-ft2-text font-bold text-lg",children:I.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:831,columnNumber:23},void 0),o.jsxDEV("p",{className:"text-ft2-textDim text-xs mt-1 max-w-2xl",children:I.description},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:832,columnNumber:23},void 0),o.jsxDEV("div",{className:"flex items-center gap-3 mt-2",children:[o.jsxDEV("span",{className:"text-[10px] px-1.5 py-0.5 bg-ft2-bg border border-ft2-border text-ft2-textDim rounded",children:I.author},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:834,columnNumber:25},void 0),o.jsxDEV("span",{className:"text-[10px] px-1.5 py-0.5 bg-ft2-bg border border-ft2-border text-ft2-textDim rounded",children:[I.sampleCount," SAMPLES"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:837,columnNumber:25},void 0),I.isUserUploaded&&o.jsxDEV("span",{className:"text-[10px] px-1.5 py-0.5 bg-accent-primary/20 text-accent-primary rounded font-bold",children:"USER UPLOAD"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:841,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:833,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:830,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:818,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:817,columnNumber:17},void 0),o.jsxDEV("div",{className:"px-4 py-3 bg-ft2-header border-b border-ft2-border shrink-0",children:o.jsxDEV("div",{className:"relative",children:[o.jsxDEV(D,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-ft2-textDim"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:853,columnNumber:21},void 0),o.jsxDEV("input",{type:"text",value:M,onChange:e=>{G(e.target.value),K(new Set),_(null)},placeholder:"Search samples...",className:"w-full pl-10 pr-4 py-2 bg-ft2-bg border border-ft2-border text-ft2-text rounded focus:border-ft2-highlight focus:outline-none"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:857,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:852,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:851,columnNumber:17},void 0),o.jsxDEV("div",{className:"flex gap-1 px-4 py-2 bg-ft2-header border-b border-ft2-border overflow-x-auto shrink-0",children:I.categories.map(e=>{const s=F===e,t=I.samples[e]?.length||0;return 0===t?null:o.jsxDEV("button",{onClick:()=>{$(e),K(new Set),_(null)},className:`\n                          flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold rounded transition-colors whitespace-nowrap\n                          ${s?"bg-ft2-cursor text-ft2-bg":`bg-ft2-bg border border-ft2-border hover:border-ft2-highlight ${be(e)}`}\n                        `,children:[pe(e),S[e].toUpperCase(),o.jsxDEV("span",{className:"text-[10px] "+(s?"text-ft2-bg/70":"text-ft2-textDim"),children:["(",t,")"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:897,columnNumber:25},void 0)]},e,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:879,columnNumber:23},void 0)})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:872,columnNumber:17},void 0),o.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-ft2",children:0===me.length?o.jsxDEV("div",{className:"flex items-center justify-center h-full text-ft2-textDim",children:M?`No samples found matching "${M}"`:"No samples in this category"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:910,columnNumber:21},void 0):o.jsxDEV("div",{className:"grid grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:me.map((e,s)=>{const t=T.has(e.url),r=Y===e.url;return o.jsxDEV("div",{role:"button",tabIndex:0,onClick:t=>((e,s,t)=>{const r=new Set(T);if(A)r.clear(),r.add(e.url),ce(e);else if(t.shiftKey&&null!==Z){const e=Math.min(Z,s),t=Math.max(Z,s);for(let s=e;s<=t;s++)r.add(me[s].url)}else t.ctrlKey||t.metaKey?r.has(e.url)?r.delete(e.url):r.add(e.url):(r.clear(),r.add(e.url),ce(e));K(r),_(s)})(e,s,t),onDoubleClick:()=>A?ue():de(),onKeyDown:e=>{"Enter"===e.key&&(A?ue():de())},className:`\n                              p-2 rounded border text-left transition-all group cursor-pointer\n                              ${t?"bg-ft2-cursor text-ft2-bg border-ft2-cursor":"bg-ft2-header border-ft2-border hover:border-ft2-highlight"}\n                            `,children:o.jsxDEV("div",{className:"flex items-center gap-2",children:[o.jsxDEV("button",{onClick:s=>{s.stopPropagation(),r?(se.current&&(se.current.stop(),se.current.dispose(),se.current=null),Q(!1),ee(null)):ce(e)},className:`\n                                  w-7 h-7 rounded flex items-center justify-center transition-colors shrink-0\n                                  ${t?"bg-ft2-bg/20 hover:bg-ft2-bg/30":"bg-ft2-border hover:bg-ft2-highlight/20"}\n                                `,children:r?o.jsxDEV(E,{size:12,className:t?"text-ft2-bg":"text-ft2-highlight"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:960,columnNumber:35},void 0):o.jsxDEV(g,{size:12,className:t?"text-ft2-bg":"text-ft2-text"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:965,columnNumber:35},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:941,columnNumber:31},void 0),o.jsxDEV("span",{className:"font-medium text-xs truncate "+(t?"text-ft2-bg":"text-ft2-text"),children:e.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:971,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:940,columnNumber:29},void 0)},e.url,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:920,columnNumber:27},void 0)})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:914,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:908,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:815,columnNumber:15},void 0):o.jsxDEV("div",{className:"flex-1 flex items-center justify-center text-ft2-textDim",children:"Select a sample pack to browse"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:987,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:813,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:732,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 bg-ft2-header border-t-2 border-ft2-border",children:[o.jsxDEV("div",{className:"flex items-center gap-4",children:[o.jsxDEV("div",{className:"text-ft2-textDim text-xs",children:I&&o.jsxDEV(o.Fragment,{children:[me.length," sample",1!==me.length?"s":""," in"," ",S[F],T.size>0&&o.jsxDEV("span",{className:"ml-2 text-ft2-text",children:["• ",T.size," selected. Double-click or click Load to use."]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1003,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:999,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:997,columnNumber:13},void 0),!A&&le&&o.jsxDEV("div",{className:"flex items-center gap-2 px-2 py-1 bg-amber-500/10 border border-amber-500/30 rounded animate-pulse-glow",children:[o.jsxDEV(B,{size:12,className:"text-amber-400 fill-amber-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1014,columnNumber:17},void 0),o.jsxDEV("span",{className:"text-[10px] font-black text-amber-400 uppercase tracking-widest",children:"JAM ACTIVE"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1015,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1013,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:996,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex gap-2",children:[o.jsxDEV("button",{onClick:i,className:"px-4 py-2 bg-ft2-bg border border-ft2-border text-ft2-text hover:border-ft2-highlight rounded transition-colors",children:"Cancel"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1020,columnNumber:13},void 0),o.jsxDEV("button",{onClick:A?ue:de,disabled:0===T.size,className:"flex items-center gap-2 px-4 py-2 bg-ft2-cursor text-ft2-bg font-bold hover:bg-ft2-highlight rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsxDEV(V,{size:16},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1031,columnNumber:15},void 0),A?"Load Sample":"Load "+(T.size>1?`${T.size} Samples`:"Sample")]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1026,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:1019,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:995,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:648,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/SamplePackBrowser.tsx",lineNumber:647,columnNumber:5},void 0)};export{y as SamplePackBrowser};
