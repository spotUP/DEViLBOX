import{j as e}from"./index-zx6LJBPK.js";import{r as t}from"./vendor-utils-XMmR-oGw.js";const s=s=>{const i=t.useRef(null),n=s.width??48,l=s.height??24,o=s.style??"line",a=s.color??"#06b6d4";return t.useEffect(()=>{const e=i.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const r=window.devicePixelRatio||1;let c;if(e.width=n*r,e.height=l*r,e.style.width=`${n}px`,e.style.height=`${l}px`,t.scale(r,r),t.fillStyle="#11131a",t.fillRect(0,0,n,l),"type"in s)c=function(e,t){const s=[];for(let i=0;i<t;i++){const n=i/t;switch(e){case"sine":s.push(.5+.5*Math.sin(n*Math.PI*2));break;case"triangle":s.push(n<.5?2*n:2-2*n);break;case"saw":s.push(n);break;case"square":s.push(n<.5?1:0);break;case"pulse25":s.push(n<.25?1:0);break;case"pulse12":s.push(n<.125?1:0);break;case"noise":s.push(Math.random())}}return s}(s.type,s.resolution??64);else{const e=s.maxValue||1;c=s.data.map(t=>t/e)}if(0!==c.length)if("bar"===o){const e=n/c.length;t.fillStyle=a,c.forEach((s,i)=>{const n=s*l;t.fillRect(i*e,l-n,e-.5,n)})}else t.strokeStyle=a,t.lineWidth=1.5,t.lineJoin="round",t.beginPath(),c.forEach((e,s)=>{const i=s/c.length*n,o=l-e*(l-2)-1;0===s?t.moveTo(i,o):t.lineTo(i,o)}),t.stroke(),t.fillStyle=`${a}22`,t.lineTo(n,l),t.lineTo(0,l),t.closePath(),t.fill()},[s,n,l,o,a]),e.jsxDEV("canvas",{ref:i,style:{display:"block",imageRendering:"auto"}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/WaveformThumbnail.tsx",lineNumber:129,columnNumber:5},void 0)};export{s as W};
