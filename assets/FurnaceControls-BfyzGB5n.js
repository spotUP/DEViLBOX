const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-zx6LJBPK.js","assets/vendor-react-DkDaD07v.js","assets/vendor-utils-XMmR-oGw.js","assets/vendor-tone-CADp_hfL.js","assets/vendor-ui-uomqNFY-.js","assets/index-Cnoi0D0R.css"])))=>i.map(i=>d[i]);
import{j as e,bG as o,aI as r,V as s,aH as t,_ as n}from"./index-zx6LJBPK.js";import{r as i}from"./vendor-utils-XMmR-oGw.js";import{I as m}from"./EffectChain-C3LgFJxX.js";import{l as d,x as a,p as l,y as c,Z as u,k as b,z as p,A as x,d as N,W as E,F as v,f,c as h,V as D,m as V}from"./vendor-ui-uomqNFY-.js";import{WavetableListEditor as g}from"./WavetableEditor-DZOyuw2Y.js";import"./sortable.esm-Nw3Rboz6.js";import{E as C}from"./EnvelopeVisualization-BefL2nEr.js";import{W as L}from"./WaveformThumbnail-BZo1r2_f.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";import"./useVisualizationAnimation-D37DdYyX.js";const O={[o.VOL]:"Volume",[o.ARP]:"Arpeggio",[o.DUTY]:"Duty",[o.WAVE]:"Waveform",[o.PITCH]:"Pitch",[o.EX1]:"Extra 1",[o.EX2]:"Extra 2",[o.EX3]:"Extra 3",[o.ALG]:"Algorithm",[o.FB]:"Feedback",[o.FMS]:"FM LFO Speed",[o.AMS]:"AM LFO Speed",[o.PAN_L]:"Pan Left",[o.PAN_R]:"Pan Right",[o.PHASE_RESET]:"Phase Reset",[o.EX4]:"Extra 4",[o.EX5]:"Extra 5",[o.EX6]:"Extra 6",[o.EX7]:"Extra 7",[o.EX8]:"Extra 8",[o.FMS2]:"FM LFO Speed 2",[o.AMS2]:"AM LFO Speed 2"},j=[{value:-12,label:"−Oct",color:"rgba(90, 180, 255, 0.45)"},{value:-7,label:"−5th",color:"rgba(90, 180, 255, 0.22)"},{value:-5,label:"−4th",color:"rgba(90, 180, 255, 0.18)"},{value:-4,label:"−M3",color:"rgba(90, 180, 255, 0.18)"},{value:-3,label:"−m3",color:"rgba(90, 180, 255, 0.18)"},{value:0,label:"Root",color:"rgba(80, 255, 120, 0.65)"},{value:3,label:"m3",color:"rgba(90, 180, 255, 0.18)"},{value:4,label:"M3",color:"rgba(90, 180, 255, 0.18)"},{value:5,label:"4th",color:"rgba(90, 180, 255, 0.18)"},{value:7,label:"5th",color:"rgba(90, 180, 255, 0.45)"},{value:9,label:"M6",color:"rgba(90, 180, 255, 0.22)"},{value:10,label:"m7",color:"rgba(90, 180, 255, 0.18)"},{value:12,label:"+Oct",color:"rgba(90, 180, 255, 0.45)"}],B={[o.VOL]:[{name:"Fade In",data:[0,2,4,6,8,10,12,14,15,15,15,15,15,15,15,15]},{name:"Fade Out",data:[15,13,11,9,7,5,3,1,0]},{name:"Tremolo",data:[15,8,15,8,15,8,15,8],loop:0},{name:"Gate",data:[15,15,15,15,0,0,0,0],loop:0},{name:"Staccato",data:[15,0,0,0],loop:0},{name:"Organ",data:[12,12,12,12,12,12,12,12,8,8,8,8,6,6,5,4],loop:2,release:8},{name:"Piano",data:[15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0]}],[o.ARP]:[{name:"Major",data:[0,4,7,0,4,7],loop:0},{name:"Minor",data:[0,3,7,0,3,7],loop:0},{name:"Power",data:[0,7,0,7],loop:0},{name:"Octave",data:[0,12,0,12],loop:0},{name:"Maj 7th",data:[0,4,7,11],loop:0},{name:"Dom 7th",data:[0,4,7,10],loop:0},{name:"Min 7th",data:[0,3,7,10],loop:0},{name:"Chromatic",data:[0,1,2,3,4,5,6,7,8,9,10,11],loop:0},{name:"Diminished",data:[0,3,6,0,3,6],loop:0}],[o.PITCH]:[{name:"Vibrato",data:[0,2,4,2,0,-2,-4,-2],loop:0},{name:"Vib Fast",data:[0,4,0,-4,0,4,0,-4],loop:0},{name:"Trill",data:[0,2,0,2,0,2,0,2],loop:0},{name:"Bend Up",data:[0,2,4,6,8,10,12]},{name:"Bend Down",data:[0,-2,-4,-6,-8,-10,-12]},{name:"Drop",data:[0,0,0,0,0,-3,-6,-9,-12]},{name:"Scoop",data:[-8,-6,-4,-2,0]}],[o.DUTY]:[{name:"Square",data:[2]},{name:"Pulse 25%",data:[1]},{name:"Pulse 12%",data:[0]},{name:"PWM Up",data:[0,0,1,1,2,2,3,3],loop:0},{name:"PWM Down",data:[3,3,2,2,1,1,0,0],loop:0},{name:"PWM Slow",data:[0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,2,2,2,2,1,1,1,1],loop:0}]};function X(e,r){const s=e=>e>0?`+${e}`:`${e}`;switch(r){case o.ARP:{const o=j.find(o=>o.value===e);return o?`${s(e)} (${o.label})`:s(e)}case o.PITCH:return s(e);case o.VOL:return`Vol ${e}`;case o.DUTY:return`Duty ${e}`;case o.WAVE:return`Wave ${e}`;default:return`${e}`}}const U=({macro:r,macroType:s,onChange:t,minValue:n=0,maxValue:m=15,height:p=120,color:x="#a78bfa",label:N,bipolar:E=!1,playbackPosition:v})=>{const f=i.useRef(null),h=i.useRef(null),[D,V]=i.useState(!1),[g,C]=i.useState(!1),[L,U]=i.useState(!1),[F,y]=i.useState(!1),[M,k]=i.useState(null),S=i.useRef(null),w=i.useRef(!1),T=N||O[s]||`Macro ${s}`,P=B[s]??[],A=s===o.ARP&&E,z=Math.max(8,Math.min(20,400/Math.max(r.data.length,1))),R=Math.max(400,r.data.length*z),W=i.useCallback(()=>{const e=f.current;if(!e)return;const o=e.getContext("2d");if(!o)return;const s=window.devicePixelRatio||1;e.width=R*s,e.height=p*s,e.style.width=`${R}px`,e.style.height=`${p}px`,o.scale(s,s);const t=R,i=p,d=m-n;o.fillStyle="#1a1a2e",o.fillRect(0,0,t,i),o.strokeStyle="#2a2a4e",o.lineWidth=1;for(let r=0;r<=4;r++){const e=i/4*r;o.beginPath(),o.moveTo(0,e),o.lineTo(t,e),o.stroke()}if(E&&n<0){const e=i*(m/d);o.strokeStyle="#5a5a8e",o.lineWidth=1,o.beginPath(),o.moveTo(0,e),o.lineTo(t,e),o.stroke()}A&&(o.setLineDash([3,6]),j.forEach(e=>{if(e.value<n||e.value>m)return;const r=i-(e.value-n)/d*i;o.strokeStyle=e.color,o.lineWidth=1,o.beginPath(),o.moveTo(0,r),o.lineTo(t,r),o.stroke(),o.fillStyle=e.color,o.font="8px monospace",o.fillText(e.label,3,r-1)}),o.setLineDash([])),o.strokeStyle="#2a2a4e",o.lineWidth=1;for(let n=0;n<r.data.length;n+=4){const e=n/r.data.length*t;o.beginPath(),o.moveTo(e,0),o.lineTo(e,i),o.stroke()}if(r.loop>=0&&r.loop<r.data.length){const e=r.loop/r.data.length*t,s=r.release>=0?r.release/r.data.length*t:t;o.fillStyle="rgba(59, 130, 246, 0.10)",o.fillRect(e,0,s-e,i)}const a=t/r.data.length;if(r.data.forEach((e,r)=>{const s=r*a,t=(e-n)/d*i,m=i-t,l=M?.step===r;o.fillStyle=l?"rgba(255, 255, 255, 0.85)":x,o.strokeStyle=l?"rgba(255, 255, 255, 0.4)":"rgba(255, 255, 255, 0.15)",o.lineWidth=1,o.fillRect(s+1,m,a-2,t),o.strokeRect(s+1,m,a-2,t)}),r.loop>=0&&r.loop<r.data.length){const e=r.loop/r.data.length*t;o.strokeStyle="#3b82f6",o.lineWidth=2,o.beginPath(),o.moveTo(e,0),o.lineTo(e,i),o.stroke(),o.fillStyle="#3b82f6",o.beginPath(),o.moveTo(e-6,10),o.lineTo(e,0),o.lineTo(e+6,10),o.closePath(),o.fill()}if(r.release>=0&&r.release<r.data.length){const e=r.release/r.data.length*t;o.strokeStyle="#ef4444",o.lineWidth=2,o.beginPath(),o.moveTo(e,0),o.lineTo(e,i),o.stroke(),o.fillStyle="#ef4444",o.fillRect(e-5,5,10,10)}if("number"==typeof v&&v>=0&&v<r.data.length){const e=(v+.5)/r.data.length*t;o.strokeStyle="rgba(255, 220, 0, 0.9)",o.lineWidth=2,o.beginPath(),o.moveTo(e,0),o.lineTo(e,i),o.stroke(),o.fillStyle="rgba(255, 220, 0, 0.9)",o.beginPath(),o.moveTo(e,4),o.lineTo(e-5,14),o.lineTo(e,24),o.lineTo(e+5,14),o.closePath(),o.fill()}},[r,n,m,x,E,A,R,p,M,v]);i.useEffect(()=>{W()},[W]);const $=e=>{const o=f.current;if(!o)return{step:0,value:0};const s=o.getBoundingClientRect(),t=e.clientX-s.left,i=e.clientY-s.top,d=Math.max(0,Math.min(r.data.length-1,Math.floor(t/s.width*r.data.length))),a=m-n;return{step:d,value:Math.max(n,Math.min(m,Math.round(n+(1-i/s.height)*a)))}},I=i.useCallback((e,o,s,i)=>{const d=[...r.data],a=Math.min(e,s),l=Math.max(e,s);for(let r=a;r<=l;r++){const t=l===a?0:(r-a)/(l-a),c=e<=s?o+(i-o)*t:i+(o-i)*(1-t);d[r]=Math.max(n,Math.min(m,Math.round(c)))}t({...r,data:d})},[r,n,m,t]);return e.jsxDEV("div",{className:"bg-dark-bgSecondary rounded-lg border border-dark-border overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between px-3 py-2 bg-dark-bg border-b border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-mono text-xs font-bold text-text-primary uppercase tracking-wider",children:T},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:466,columnNumber:11},void 0),e.jsxDEV("span",{className:"text-[10px] text-text-muted font-mono",children:[r.data.length," steps"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:469,columnNumber:11},void 0),A&&e.jsxDEV("span",{className:"text-[9px] text-blue-400/70 font-mono hidden sm:inline",children:"shift+drag = line"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:473,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:465,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("label",{className:"flex items-center gap-1 text-[10px] text-text-muted mr-1",children:[e.jsxDEV("span",{children:"Spd:"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:482,columnNumber:13},void 0),e.jsxDEV("input",{type:"number",min:1,max:16,value:r.speed??1,onChange:e=>t({...r,speed:parseInt(e.target.value)||1}),className:"w-8 bg-dark-bg border border-dark-border rounded px-1 py-0.5 text-text-primary text-[10px] font-mono"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:483,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:481,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>{if(r.data.length<=1)return;const e=r.data.slice(0,-1),o=r.loop>=e.length?e.length-1:r.loop,s=r.release>=e.length?e.length-1:r.release;t({...r,data:e,loop:o,release:s})},className:"p-1 text-text-muted hover:text-text-primary hover:bg-dark-border/50 rounded",title:"Remove step",children:e.jsxDEV(a,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:495,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:492,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>{r.data.length>=256||t({...r,data:[...r.data,r.data[r.data.length-1]??0]})},className:"p-1 text-text-muted hover:text-text-primary hover:bg-dark-border/50 rounded",title:"Add step",children:e.jsxDEV(d,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:500,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:497,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>{C(!g),U(!1)},className:"p-1 rounded transition-colors "+(g?"bg-blue-500 text-white":"text-blue-400 hover:bg-blue-500/20"),title:g?"Click canvas to set loop point":"Set loop point",children:e.jsxDEV(l,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:510,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:504,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>{U(!L),C(!1)},className:"p-1 rounded transition-colors "+(L?"bg-red-500 text-white":"text-red-400 hover:bg-red-500/20"),title:L?"Click canvas to set release point":"Set release point",children:e.jsxDEV(c,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:520,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:514,columnNumber:11},void 0),P.length>0&&e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("button",{onClick:()=>y(!F),className:"p-1 rounded transition-colors "+(F?"bg-amber-500/30 text-amber-300":"text-amber-400 hover:bg-amber-500/20"),title:"Preset patterns",children:e.jsxDEV(u,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:534,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:526,columnNumber:15},void 0),F&&e.jsxDEV("div",{className:"absolute top-full right-0 mt-1 bg-dark-bg border border-dark-border rounded-lg shadow-xl z-30 min-w-[130px]",children:[e.jsxDEV("div",{className:"px-2 py-1 text-[9px] text-text-muted font-mono uppercase border-b border-dark-border",children:"Patterns"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:538,columnNumber:19},void 0),P.map((o,s)=>e.jsxDEV("button",{onClick:()=>(e=>{t({...r,data:[...e.data],loop:e.loop??-1,release:e.release??-1}),y(!1)})(o),className:"w-full px-3 py-1.5 text-left text-[10px] font-mono text-text-primary hover:bg-dark-bgSecondary flex items-center justify-between gap-4",children:[e.jsxDEV("span",{children:o.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:546,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-text-muted text-[9px]",children:[o.data.length,"st"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:547,columnNumber:23},void 0)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:542,columnNumber:21},void 0))]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:537,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:525,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{t({...r,data:Array(r.data.length).fill(E?0:n),loop:-1,release:-1})},className:"p-1 text-text-muted hover:text-text-primary hover:bg-dark-border/50 rounded",title:"Reset macro",children:e.jsxDEV(b,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:559,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:556,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:479,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:464,columnNumber:7},void 0),e.jsxDEV("div",{ref:h,className:"relative overflow-x-auto",style:{height:p+20},children:[e.jsxDEV("canvas",{ref:f,style:{display:"block"},className:""+(g||L?"cursor-crosshair":"cursor-pointer"),onMouseDown:e=>{if(g||L){const{step:o}=$(e);return void(g?(t({...r,loop:o}),C(!1)):(t({...r,release:o}),U(!1)))}V(!0);const{step:o,value:s}=$(e);if(S.current={step:o,value:s},w.current=e.shiftKey,!e.shiftKey){const e=[...r.data];e[o]=s,t({...r,data:e})}},onMouseMove:e=>{const{step:o,value:s}=$(e),n=f.current;if(n){const t=n.getBoundingClientRect(),i=r.data[o]??s;k({step:o,value:i,x:e.clientX-t.left,y:e.clientY-t.top})}if(D)if(w.current&&S.current)I(S.current.step,S.current.value,o,s);else{const e=[...r.data];e[o]=s,t({...r,data:e})}},onMouseUp:()=>{V(!1),S.current=null},onMouseLeave:()=>{V(!1),k(null)}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:570,columnNumber:9},void 0),M&&e.jsxDEV("div",{className:"absolute pointer-events-none z-20 bg-dark-bg/95 border border-dark-border rounded px-2 py-1 text-[10px] font-mono text-text-primary shadow-lg",style:{left:Math.min(M.x+10,R-110),top:Math.max(4,M.y-30),whiteSpace:"nowrap"},children:[e.jsxDEV("span",{className:"text-text-muted mr-1",children:["#",M.step,":"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:592,columnNumber:13},void 0),X(M.value,s)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:584,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 flex items-center gap-4 px-2 py-0.5 bg-dark-bg/80 text-[9px] font-mono",children:[r.loop>=0?e.jsxDEV("button",{onClick:()=>t({...r,loop:-1}),className:"flex items-center gap-1 text-blue-400 hover:text-blue-300",children:[e.jsxDEV(l,{size:9},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:603,columnNumber:15},void 0)," Loop@",r.loop,e.jsxDEV("span",{className:"text-text-muted ml-0.5",children:"×"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:604,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:600,columnNumber:13},void 0):e.jsxDEV("span",{className:"text-text-muted",children:"No loop"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:607,columnNumber:13},void 0),r.release>=0?e.jsxDEV("button",{onClick:()=>t({...r,release:-1}),className:"flex items-center gap-1 text-red-400 hover:text-red-300",children:[e.jsxDEV(c,{size:9},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:614,columnNumber:15},void 0)," Release@",r.release,e.jsxDEV("span",{className:"text-text-muted ml-0.5",children:"×"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:615,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:611,columnNumber:13},void 0):e.jsxDEV("span",{className:"text-text-muted",children:"No release"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:618,columnNumber:13},void 0),"number"==typeof v&&e.jsxDEV("span",{className:"text-yellow-400 ml-auto",children:["▶ ",v]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:622,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:598,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:565,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:462,columnNumber:5},void 0)},F=({macros:r,onChange:s,playbackPositions:t})=>{const[n,m]=i.useState(null),[a,l]=i.useState(!1),c=e=>{switch(e){case o.VOL:return{min:0,max:15,bipolar:!1};case o.ARP:return{min:-12,max:12,bipolar:!0};case o.DUTY:return{min:0,max:3,bipolar:!1};case o.WAVE:return{min:0,max:255,bipolar:!1};case o.PITCH:return{min:-128,max:127,bipolar:!0};case o.ALG:case o.FB:return{min:0,max:7,bipolar:!1};default:return{min:0,max:15,bipolar:!1}}},u=e=>({[o.VOL]:"#22c55e",[o.ARP]:"#3b82f6",[o.DUTY]:"#f59e0b",[o.WAVE]:"#06b6d4",[o.PITCH]:"#ec4899"}[e]??"#a78bfa"),b=Object.entries(O).filter(([e])=>!r.some(o=>o.type===parseInt(e))).map(([e,o])=>({type:parseInt(e),name:o}));return e.jsxDEV("div",{className:"space-y-2",children:[r.map((o,i)=>e.jsxDEV("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between px-3 py-2 bg-dark-bg cursor-pointer hover:bg-dark-bgSecondary select-none",onClick:()=>m(n===i?null:i),children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:u(o.type)}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:706,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-mono text-xs font-bold text-text-primary",children:O[o.type]||`Macro ${o.type}`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:710,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-[10px] text-text-muted",children:[o.data.length,"st",o.loop>=0&&` · loop@${o.loop}`,o.release>=0&&` · rel@${o.release}`]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:713,columnNumber:15},void 0),"number"==typeof t?.[o.type]&&e.jsxDEV("span",{className:"text-[9px] text-yellow-400",children:["▶ ",t[o.type]]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:719,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:705,columnNumber:13},void 0),e.jsxDEV("button",{onClick:e=>{e.stopPropagation(),(e=>{s(r.filter((o,r)=>r!==e)),n===e&&m(null)})(i)},className:"text-red-400 hover:text-red-300 text-xs px-1 hover:bg-red-500/10 rounded",children:"×"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:722,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:701,columnNumber:11},void 0),n===i&&e.jsxDEV(U,{macro:o,macroType:o.type,onChange:e=>((e,o)=>{const t=[...r];t[e]=o,s(t)})(i,e),...c(o.type),color:u(o.type),playbackPosition:t?.[o.type]},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:732,columnNumber:13},void 0)]},i,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:699,columnNumber:9},void 0)),b.length>0&&e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("button",{onClick:()=>l(!a),className:"w-full py-2 border border-dashed rounded-lg text-xs font-mono flex items-center justify-center gap-2 transition-colors "+(a?"border-accent text-text-primary bg-dark-bgSecondary":"border-dark-border text-text-muted hover:text-text-primary hover:border-accent"),children:[e.jsxDEV(d,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:755,columnNumber:13},void 0),"Add Macro"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:747,columnNumber:11},void 0),a&&e.jsxDEV("div",{className:"absolute top-full left-0 right-0 mt-1 bg-dark-bg border border-dark-border rounded-lg shadow-xl z-10 max-h-52 overflow-y-auto",children:b.map(({type:o,name:t})=>e.jsxDEV("button",{onClick:()=>(e=>{const o=c(e),t={type:e,data:Array(16).fill(o.bipolar?0:o.min),loop:-1,release:-1,mode:0,speed:1};s([...r,t]),m(r.length),l(!1)})(o),className:"w-full px-3 py-2 text-left text-xs font-mono text-text-primary hover:bg-dark-bgSecondary flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-2 h-2 rounded-sm flex-shrink-0",style:{backgroundColor:u(o)}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:766,columnNumber:19},void 0),t]},o,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:761,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:759,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:746,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/MacroEditor.tsx",lineNumber:696,columnNumber:5},void 0)},y=11,M="#64748b",k="#22c55e",S=[{pos:{4:[22,41],3:[62,41],2:[102,41],1:[145,41]},mods:[[4,3],[3,2],[2,1]],carriers:[1]},{pos:{4:[22,25],3:[22,57],2:[82,41],1:[148,41]},mods:[[4,2],[3,2],[2,1]],carriers:[1]},{pos:{4:[22,20],3:[72,20],2:[22,62],1:[147,41]},mods:[[4,3],[3,1],[2,1]],carriers:[1]},{pos:{4:[22,22],3:[78,41],2:[22,60],1:[148,41]},mods:[[4,3],[2,3],[3,1]],carriers:[1]},{pos:{4:[22,22],3:[82,22],2:[22,60],1:[82,60]},mods:[[4,3],[2,1]],carriers:[3,1],busX:148},{pos:{4:[20,41],3:[97,15],2:[97,41],1:[97,67]},mods:[[4,3],[4,2],[4,1]],carriers:[3,2,1],busX:153},{pos:{4:[22,18],3:[82,18],2:[82,42],1:[82,66]},mods:[[4,3]],carriers:[3,2,1],busX:148},{pos:{4:[22,10],3:[22,30],2:[22,50],1:[22,70]},mods:[],carriers:[4,3,2,1],busX:90}],w=[{pos:{2:[40,41],1:[100,41]},mods:[[2,1]],carriers:[1]},{pos:{2:[40,24],1:[40,58]},mods:[],carriers:[2,1],busX:106}];function T(e,o,r,s){if(Math.abs(o-s)<1)return`M ${e} ${o} L ${r} ${s}`;const t=(e+r)/2;return`M ${e} ${o} C ${t} ${o} ${t} ${s} ${r} ${s}`}const P=({x:o,y:r,color:s})=>e.jsxDEV("polygon",{points:`${o},${r} ${o-5},${r-3} ${o-5},${r+3}`,fill:s},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:162,columnNumber:3},void 0),A=({algorithm:o,feedback:r,opCount:s=4,selectedOp:t=null,onSelectOp:n,accentColor:i="#f59e0b",className:m=""})=>{const d=2===s?w:S,a=d[Math.max(0,Math.min(o,d.length-1))],l=2===s?[2,1]:[4,3,2,1],c=a.carriers.map(e=>a.pos[e][1]),u=Math.min(...c),b=Math.max(...c),p=(u+b)/2,x=1===a.carriers.length,N=x?a.pos[a.carriers[0]][0]+y:a.busX??160,E=x?a.pos[a.carriers[0]][1]:p,v=195;return e.jsxDEV("div",{className:`bg-dark-bg rounded border border-dark-border select-none ${m}`,children:e.jsxDEV("svg",{viewBox:"0 0 210 82",className:"w-full",style:{height:72},overflow:"visible",children:[a.mods.map(([o,r],s)=>{const[t,n]=a.pos[o],[i,m]=a.pos[r],d=t+y,l=i-y;return e.jsxDEV("g",{children:[e.jsxDEV("path",{d:T(d,n,l,m),fill:"none",stroke:M,strokeWidth:1},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:212,columnNumber:15},void 0),e.jsxDEV(P,{x:l,y:m,color:M},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:218,columnNumber:15},void 0)]},s,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:211,columnNumber:13},void 0)}),r>0&&(()=>{const o=2===s?2:4,[r,t]=a.pos[o];return e.jsxDEV("path",{d:`M ${r+y} ${t} Q ${r} ${t-18} ${r-y} ${t}`,fill:"none",stroke:"#f472b6",strokeWidth:1,strokeDasharray:"2,2"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:228,columnNumber:13},void 0)})(),x&&e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:N,y1:E,x2:191,y2:E,stroke:k,strokeWidth:1.5},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:241,columnNumber:13},void 0),e.jsxDEV(P,{x:v,y:E,color:k},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:246,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:240,columnNumber:11},void 0),!x&&void 0!==a.busX&&e.jsxDEV("g",{children:[a.carriers.map(o=>{const[r,s]=a.pos[o];return e.jsxDEV("line",{x1:r+y,y1:s,x2:a.busX,y2:s,stroke:k,strokeWidth:1},o,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:257,columnNumber:17},void 0)}),e.jsxDEV("line",{x1:a.busX,y1:u,x2:a.busX,y2:b,stroke:k,strokeWidth:1.5},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:265,columnNumber:13},void 0),e.jsxDEV("line",{x1:a.busX,y1:p,x2:191,y2:p,stroke:k,strokeWidth:1.5},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:271,columnNumber:13},void 0),e.jsxDEV(P,{x:v,y:p,color:k},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:276,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:252,columnNumber:11},void 0),l.map(o=>{const[r,s]=a.pos[o],m=a.carriers.includes(o),d=t===o;let l=m?i:"#3b5b8a",c=m?"#fcd34d":"#60a5fa";return d&&(l="#10b981",c="#6ee7b7"),e.jsxDEV("g",{style:{cursor:n?"pointer":"default"},onClick:()=>n?.(o),children:[e.jsxDEV("rect",{x:r-y,y:s-8,width:22,height:16,rx:2,fill:l,stroke:c,strokeWidth:d?1.5:1},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:296,columnNumber:15},void 0),e.jsxDEV("text",{x:r,y:s+4,textAnchor:"middle",fontSize:"9",fontFamily:"monospace",fontWeight:"bold",fill:m||d?"#000":"#e2e8f0",children:o},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:304,columnNumber:15},void 0)]},o,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:291,columnNumber:13},void 0)}),e.jsxDEV("text",{x:198,y:E+3,fontSize:"7",fontFamily:"monospace",fontWeight:"bold",fill:k,children:"OUT"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:319,columnNumber:9},void 0),e.jsxDEV("text",{x:105,y:80,textAnchor:"middle",fontSize:"7",fontFamily:"monospace",fill:"#475569",children:["ALG ",o," · FB ",r]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:331,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:198,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/shared/FMAlgorithmDiagram.tsx",lineNumber:195,columnNumber:5},void 0)};const z=({config:o,instrumentId:d,onChange:a})=>{const[l,c]=i.useState("fm"),[b,f]=i.useState(new Set([0,1,2,3])),[h,D]=i.useState(null),V=i.useRef(null),C=i.useCallback(e=>{D(o=>o===e?null:e),f(o=>{const r=new Set(o);return r.add(e-1),r})},[]),L=i.useCallback((e,r)=>{const s=[...o.operators];s[e]={...s[e],...r},a({operators:s})},[o.operators,a]),O=i.useCallback(e=>{f(o=>{const r=new Set(o);return r.has(e)?r.delete(e):r.add(e),r})},[]),j={0:"Sega Genesis (YM2612)",1:"Arcade / X68000 (YM2151)",2:"AdLib / Sound Blaster (OPL3)",3:"Sega Master System (SN76489)",4:"Nintendo NES (2A03)",5:"Nintendo Game Boy (LR35902)",6:"PC Engine / TurboGrafx (HuC6280)",7:"Konami MSX (SCC)",8:"Namco Arcade (N163)",9:"Famicom (VRC6)",10:"Commodore 64 (SID)",11:"MSX / Sega (OPLL)",12:"ZX Spectrum / Amstrad (AY-3-8910)",13:"NEC PC-98 (OPNA)",14:"Neo Geo (OPNB)",15:"Atari 2600 (TIA)",16:"Famicom Disk System",17:"Famicom (MMC5)",18:"SAM Coupe (SAA1099)",19:"Bandai WonderSwan",20:"Arcade (OKI MSM6295)",21:"Ensoniq (ES5506)",22:"Yamaha TX81Z (OPZ)",23:"MSX-Audio (Y8950)",24:"Super Nintendo (SPC700)",25:"Atari Lynx",26:"Yamaha (OPL4)",27:"Sega Arcade (SegaPCM)",28:"Yamaha (YMZ280B)",29:"Sega CD (RF5C68)",30:"Irem Arcade (GA20)",31:"Namco Arcade (C140)",32:"Capcom Arcade (QSound)",33:"Commodore VIC-20",34:"Commodore Plus/4 (TED)",35:"Watara Supervision",36:"Commander X16 (VERA)",37:"Game Gear (SM8521)",38:"Konami Bubble System",39:"Konami Arcade (K007232)",40:"Konami Arcade (K053260)",41:"Seta Arcade (X1-010)",42:"NEC (μPD1771)",43:"Toshiba (T6W28)",44:"Nintendo Virtual Boy"}[B=o.chipType]||`Unknown Chip (${B})`;var B;const X=function(e){return[0,1,2,11,13,14,22,23,26].includes(e)?"FM":[3,4,5,12,15,16,17,18,33,34,35,43,44].includes(e)?"PSG":[6,7,8,9,19,36,37,38].includes(e)?"Wavetable":[10,20,21,24,25,27,28,29,30,31,32,39,40,41,42].includes(e)?"PCM":"Other"}(o.chipType),U=i.useMemo(()=>{return e=o.chipType,[0,13,14].includes(e)?{tl:{min:0,max:127},ar:{min:0,max:31},dr:{min:0,max:31},d2r:{min:0,max:31},rr:{min:0,max:15},sl:{min:0,max:15},mult:{min:0,max:15},dt:{min:-3,max:3},rs:{min:0,max:3},hasD2R:!0,hasSSG:!0,hasWS:!1,hasDT2:!1,opCount:4}:1===e?{tl:{min:0,max:127},ar:{min:0,max:31},dr:{min:0,max:31},d2r:{min:0,max:31},rr:{min:0,max:15},sl:{min:0,max:15},mult:{min:0,max:15},dt:{min:-3,max:3},dt2:{min:0,max:3},rs:{min:0,max:3},hasD2R:!0,hasSSG:!1,hasWS:!1,hasDT2:!0,opCount:4}:[2,23,26].includes(e)?{tl:{min:0,max:63},ar:{min:0,max:15},dr:{min:0,max:15},d2r:{min:0,max:0},rr:{min:0,max:15},sl:{min:0,max:15},mult:{min:0,max:15},dt:{min:0,max:0},rs:{min:0,max:0},ksl:{min:0,max:3},ws:{min:0,max:7},hasD2R:!1,hasSSG:!1,hasWS:!0,hasDT2:!1,opCount:4}:11===e?{tl:{min:0,max:63},ar:{min:0,max:15},dr:{min:0,max:15},d2r:{min:0,max:0},rr:{min:0,max:15},sl:{min:0,max:15},mult:{min:0,max:15},dt:{min:0,max:0},rs:{min:0,max:0},ksl:{min:0,max:3},hasD2R:!1,hasSSG:!1,hasWS:!1,hasDT2:!1,opCount:2}:22===e?{tl:{min:0,max:127},ar:{min:0,max:31},dr:{min:0,max:31},d2r:{min:0,max:31},rr:{min:0,max:15},sl:{min:0,max:15},mult:{min:0,max:15},dt:{min:-3,max:3},dt2:{min:0,max:3},rs:{min:0,max:3},hasD2R:!0,hasSSG:!1,hasWS:!1,hasDT2:!0,opCount:4}:{tl:{min:0,max:127},ar:{min:0,max:31},dr:{min:0,max:31},d2r:{min:0,max:31},rr:{min:0,max:15},sl:{min:0,max:15},mult:{min:0,max:15},dt:{min:-3,max:3},rs:{min:0,max:3},hasD2R:!0,hasSSG:!0,hasWS:!1,hasDT2:!1,opCount:4};var e},[o.chipType]),y=i.useMemo(()=>2===U.opCount?[0,1]:[0,2,1,3],[U.opCount]);return e.jsxDEV(r,{children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between bg-dark-bgSecondary p-3 rounded-lg border border-dark-border/50",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-violet-700 rounded flex items-center justify-center shadow-lg shadow-indigo-900/20",children:e.jsxDEV(p,{size:20,className:"text-white"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:290,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:289,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"font-bold text-white text-sm tracking-tight",children:j},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:293,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-[10px] text-text-muted font-mono uppercase bg-dark-bg px-1.5 py-0.5 rounded border border-dark-border",children:[X," • ",U.opCount,"OP"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:295,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-[10px] text-emerald-400 font-mono flex items-center gap-1",children:[e.jsxDEV(u,{size:8},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:299,columnNumber:17},void 0)," Ready"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:298,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:294,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:292,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:288,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 mx-4",children:e.jsxDEV(s,{variant:"compact",children:e.jsxDEV(m,{instrumentId:d,width:"auto",height:40,color:"#a78bfa",backgroundColor:"transparent",className:"w-full"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:308,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:307,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:306,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(t,{label:"FMS",value:o.fms??0,min:0,max:7,onChange:e=>a({fms:Math.round(e)}),size:"sm",color:"#8b5cf6",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:321,columnNumber:11},void 0),e.jsxDEV(t,{label:"AMS",value:o.ams??0,min:0,max:3,onChange:e=>a({ams:Math.round(e)}),size:"sm",color:"#a78bfa",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:331,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:320,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:287,columnNumber:7},void 0),"FM"===X&&e.jsxDEV("div",{className:"flex gap-1 bg-dark-bg p-1 rounded-lg border border-dark-border",children:["fm","macros","chip"].map(o=>e.jsxDEV("button",{onClick:()=>c(o),className:"flex-1 py-1.5 px-3 rounded text-xs font-mono uppercase transition-colors "+(l===o?"bg-amber-600 text-white":"text-text-muted hover:text-white hover:bg-dark-bgSecondary"),children:"fm"===o?"Operators":"macros"===o?"Macros":"Settings"},o,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:348,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:346,columnNumber:9},void 0),"FM"===X&&"fm"===l&&e.jsxDEV("div",{className:"space-y-4 animate-in fade-in duration-200",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"md:col-span-2",children:e.jsxDEV(A,{algorithm:o.algorithm,feedback:o.feedback,opCount:U.opCount,selectedOp:h,onSelectOp:C},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:370,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-dark-bgSecondary p-3 rounded-lg border border-dark-border",children:e.jsxDEV("div",{className:"flex flex-wrap gap-6",children:[e.jsxDEV(t,{label:"ALG",value:o.algorithm,min:0,max:7,onChange:e=>a({algorithm:Math.round(e)}),size:"md",color:"#f59e0b",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:382,columnNumber:17},void 0),e.jsxDEV(t,{label:"FB",value:o.feedback,min:0,max:7,onChange:e=>a({feedback:Math.round(e)}),size:"md",color:"#d97706",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:392,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:381,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:380,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:367,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y.slice(0,U.opCount).map(r=>{const s=o.operators[r];return s?e.jsxDEV(R,{index:r,op:s,onUpdate:e=>L(r,e),ranges:U,isExpanded:b.has(r),onToggleExpand:()=>O(r),isCarrier:ee(o.algorithm,r),isSelected:h===r+1},r,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:412,columnNumber:15},void 0):null})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:407,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:365,columnNumber:9},void 0),"FM"===X&&"macros"===l&&e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border animate-in fade-in duration-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(x,{size:16,className:"text-violet-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:433,columnNumber:13},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Macro Editor"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:434,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-[9px] text-text-muted",children:"Draw to edit • Loop (blue) • Release (red)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:435,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:432,columnNumber:11},void 0),e.jsxDEV(F,{macros:o.macros,onChange:e=>a({macros:e}),chipType:o.chipType},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:438,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:431,columnNumber:9},void 0),"FM"===X&&"chip"===l&&e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border animate-in fade-in duration-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(N,{size:16,className:"text-cyan-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:450,columnNumber:13},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Chip Settings"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:451,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:449,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[void 0!==o.opllPreset&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-[10px] text-text-muted font-mono block mb-1",children:"OPLL Preset"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:457,columnNumber:17},void 0),e.jsxDEV("select",{value:o.opllPreset,onChange:e=>a({opllPreset:parseInt(e.target.value)}),className:"w-full bg-dark-bg border border-dark-border rounded px-2 py-1 text-xs text-white",children:oe.map((o,r)=>e.jsxDEV("option",{value:r,children:[r,": ",o]},r,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:464,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:458,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:456,columnNumber:15},void 0),U.hasDT2&&e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(t,{label:"FMS2",value:o.fms2??0,min:0,max:7,onChange:e=>a({fms2:Math.round(e)}),size:"sm",color:"#06b6d4",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:472,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:471,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:454,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:448,columnNumber:9},void 0),5===o.chipType&&e.jsxDEV(I,{config:o,onChange:a},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:491,columnNumber:9},void 0),10===o.chipType&&e.jsxDEV(H,{config:o,onChange:a},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:496,columnNumber:9},void 0),24===o.chipType&&e.jsxDEV(_,{config:o,onChange:a},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:501,columnNumber:9},void 0),"PSG"===X&&![5,10,24].includes(o.chipType)&&e.jsxDEV(q,{config:o,onChange:a},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:506,columnNumber:9},void 0),("Wavetable"===X||o.wavetables.length>0)&&e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border animate-in fade-in slide-in-from-top-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(E,{size:16,className:"text-cyan-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:513,columnNumber:13},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase tracking-wider",children:["Wavetable Editor (",o.wavetables.length," waves)"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:514,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>V.current?.click(),className:"p-1 text-text-muted hover:text-cyan-400 transition-colors",title:"Import .wav or .fuw wave",children:e.jsxDEV(v,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:522,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:517,columnNumber:13},void 0),e.jsxDEV("input",{ref:V,type:"file",accept:".wav,.fuw",onChange:async e=>{const r=e.target.files?.[0];if(r){try{if(r.name.endsWith(".fuw")){const e=await r.arrayBuffer(),s=new DataView(e),t=[];for(let o=32;o<e.byteLength;o+=4)o+4<=e.byteLength&&t.push(s.getUint32(o,!0));if(t.length>0){const e=[...o.wavetables,{id:o.wavetables.length,data:t,len:t.length,max:Math.max(...t)}];a({wavetables:e})}}else{const{getDevilboxAudioContext:e}=await n(async()=>{const{getDevilboxAudioContext:e}=await import("./index-zx6LJBPK.js").then(e=>e.e2);return{getDevilboxAudioContext:e}},__vite__mapDeps([0,1,2,3,4,5]));let s;try{s=e()}catch{s=new AudioContext}const t=await r.arrayBuffer(),i=(await s.decodeAudioData(t)).getChannelData(0),m=Array.from(i).map(e=>Math.round((e+1)/2*15)),d=[...o.wavetables,{id:o.wavetables.length,data:m,len:m.length,max:15}];a({wavetables:d})}}catch(s){}V.current&&(V.current.value="")}},className:"hidden"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:524,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-[9px] text-text-muted",children:"Draw to edit waveforms"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:531,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:512,columnNumber:11},void 0),e.jsxDEV(g,{wavetables:o.wavetables,onChange:e=>a({wavetables:e})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:534,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:511,columnNumber:9},void 0),"FM"!==X&&e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border animate-in fade-in slide-in-from-top-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(x,{size:16,className:"text-violet-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:545,columnNumber:13},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase tracking-wider",children:["Macros (",o.macros.length,")"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:546,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-[9px] text-text-muted",children:"Draw to edit • Loop (blue) • Release (red)"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:549,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:544,columnNumber:11},void 0),e.jsxDEV(F,{macros:o.macros,onChange:e=>a({macros:e}),chipType:o.chipType},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:552,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:543,columnNumber:9},void 0),"PCM"===X&&e.jsxDEV(J,{config:o,onChange:a},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:562,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:285,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:284,columnNumber:5},void 0)},R=({index:o,op:r,onUpdate:s,ranges:n,isExpanded:i,onToggleExpand:m,isCarrier:d,isSelected:a})=>{const l=a?"border-emerald-500/60":d?"border-amber-500/30":"border-blue-500/30",c=d?"#f59e0b":"#3b82f6",u=a?"from-emerald-950/25 to-transparent":d?"from-amber-950/20 to-transparent":"from-blue-950/20 to-transparent";return e.jsxDEV("div",{className:`bg-gradient-to-br ${u} bg-dark-bgSecondary p-3 rounded-lg border ${l} transition-colors`,children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:m,className:"text-text-muted hover:text-white transition-colors",children:i?e.jsxDEV(f,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:607,columnNumber:27},void 0):e.jsxDEV(h,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:607,columnNumber:55},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:603,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-6 h-6 rounded flex items-center justify-center font-mono text-xs font-bold border",style:{backgroundColor:`${c}20`,borderColor:`${c}50`,color:c},children:o+1},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:609,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-mono text-[10px] font-bold text-text-primary uppercase",children:["OP",o+1]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-[9px] text-text-muted ml-2",children:d?"Carrier":"Modulator"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:623,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:619,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:602,columnNumber:9},void 0),e.jsxDEV("button",{onClick:()=>s({enabled:!r.enabled}),className:"text-[9px] font-mono px-2 py-0.5 rounded border transition-colors "+(r.enabled?"bg-emerald-600/20 border-emerald-500/50 text-emerald-400":"bg-dark-bg border-dark-border text-text-muted"),children:r.enabled?"ON":"OFF"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:630,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:601,columnNumber:7},void 0),e.jsxDEV("div",{className:"mb-3 w-full",children:e.jsxDEV(C,{mode:"adsr",tl:r.tl,ar:r.ar,dr:r.dr,d2r:r.d2r??0,rr:r.rr,sl:r.sl,maxTl:n.tl.max,maxRate:n.ar.max,color:c,width:280,height:48},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:644,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:643,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex justify-between items-center gap-1 mb-2",children:[e.jsxDEV(t,{label:"TL",value:r.tl,min:n.tl.min,max:n.tl.max,onChange:e=>s({tl:Math.round(e)}),size:"sm",color:"#ef4444",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:662,columnNumber:9},void 0),e.jsxDEV(t,{label:"MULT",value:r.mult,min:n.mult.min,max:n.mult.max,onChange:e=>s({mult:Math.round(e)}),size:"sm",color:"#22d3ee",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:665,columnNumber:9},void 0),e.jsxDEV(t,{label:"DT",value:r.dt,min:n.dt.min,max:n.dt.max,onChange:e=>s({dt:Math.round(e)}),size:"sm",color:"#a78bfa",formatValue:e=>{const o=Math.round(e);return o>0?`+${o}`:String(o)}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:668,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:661,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex justify-between items-center gap-1 mb-2",children:[e.jsxDEV(t,{label:"AR",value:r.ar,min:n.ar.min,max:n.ar.max,onChange:e=>s({ar:Math.round(e)}),size:"sm",color:"#10b981",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:675,columnNumber:9},void 0),e.jsxDEV(t,{label:"DR",value:r.dr,min:n.dr.min,max:n.dr.max,onChange:e=>s({dr:Math.round(e)}),size:"sm",color:"#f59e0b",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:678,columnNumber:9},void 0),e.jsxDEV(t,{label:"SL",value:r.sl,min:n.sl.min,max:n.sl.max,onChange:e=>s({sl:Math.round(e)}),size:"sm",color:"#8b5cf6",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:681,columnNumber:9},void 0),e.jsxDEV(t,{label:"RR",value:r.rr,min:n.rr.min,max:n.rr.max,onChange:e=>s({rr:Math.round(e)}),size:"sm",color:"#ec4899",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:684,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:674,columnNumber:7},void 0),i&&e.jsxDEV("div",{className:"pt-2 border-t border-dark-border mt-1 animate-in slide-in-from-top-2 duration-200",children:[e.jsxDEV("div",{className:"flex justify-center items-center gap-3 mb-2",children:[n.hasD2R&&e.jsxDEV(t,{label:"D2R",value:r.d2r??0,min:n.d2r.min,max:n.d2r.max,onChange:e=>s({d2r:Math.round(e)}),size:"sm",color:"#fb923c",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:695,columnNumber:15},void 0),n.rs.max>0&&e.jsxDEV(t,{label:"RS",value:r.rs??0,min:n.rs.min,max:n.rs.max,onChange:e=>s({rs:Math.round(e)}),size:"sm",color:"#06b6d4",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:700,columnNumber:15},void 0),n.hasDT2&&e.jsxDEV(t,{label:"DT2",value:r.dt2??0,min:0,max:3,onChange:e=>s({dt2:Math.round(e)}),size:"sm",color:"#c084fc",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:705,columnNumber:15},void 0),n.ksl&&e.jsxDEV(t,{label:"KSL",value:r.ksl??0,min:n.ksl.min,max:n.ksl.max,onChange:e=>s({ksl:Math.round(e)}),size:"sm",color:"#fbbf24",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:710,columnNumber:15},void 0),n.hasWS&&e.jsxDEV(t,{label:"WS",value:r.ws??0,min:0,max:7,onChange:e=>s({ws:Math.round(e)}),size:"sm",color:"#34d399",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:715,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:693,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-center gap-2",children:[e.jsxDEV(W,{label:"AM",value:r.am??!1,onChange:e=>s({am:e})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:723,columnNumber:13},void 0),n.hasSSG&&e.jsxDEV(W,{label:"SSG",value:(r.ssg??0)>0,onChange:e=>s({ssg:e?8:0})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:725,columnNumber:15},void 0),n.hasWS&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(W,{label:"VIB",value:r.vib??!1,onChange:e=>s({vib:e})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:729,columnNumber:17},void 0),e.jsxDEV(W,{label:"SUS",value:r.sus??!1,onChange:e=>s({sus:e})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:730,columnNumber:17},void 0),e.jsxDEV(W,{label:"KSR",value:r.ksr??!1,onChange:e=>s({ksr:e})},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:731,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:728,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:722,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:691,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:599,columnNumber:5},void 0)},W=({label:o,value:r,onChange:s})=>e.jsxDEV("button",{onClick:()=>s(!r),className:"text-[9px] font-mono px-1.5 py-0.5 rounded border transition-colors "+(r?"bg-cyan-600/20 border-cyan-500/50 text-cyan-400":"bg-dark-bg border-dark-border text-text-muted hover:text-white"),children:o},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:750,columnNumber:3},void 0),$={envVol:15,envDir:0,envLen:2,soundLen:0,softEnv:!1,alwaysInit:!0},I=({config:o,onChange:r})=>{const s=i.useMemo(()=>({...$,...o.gb}),[o.gb]),n=i.useCallback(e=>{r({gb:{...o.gb,...$,...e}})},[o.gb,r]);return e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-emerald-500/30",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(x,{size:16,className:"text-emerald-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:781,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"GB Envelope"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:782,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:780,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex justify-between gap-4",children:[e.jsxDEV(t,{label:"VOL",value:s.envVol,min:0,max:15,onChange:e=>n({envVol:Math.round(e)}),size:"md",color:"#34d399",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:787,columnNumber:13},void 0),e.jsxDEV(t,{label:"LEN",value:s.envLen,min:0,max:7,onChange:e=>n({envLen:Math.round(e)}),size:"md",color:"#10b981",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:795,columnNumber:13},void 0),e.jsxDEV(t,{label:"SND",value:s.soundLen,min:0,max:64,onChange:e=>n({soundLen:Math.round(e)}),size:"md",color:"#059669",formatValue:e=>0===e||e>63?"∞":String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:803,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:786,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-[10px] text-text-muted font-mono",children:"Direction:"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:815,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>n({envDir:1}),className:"px-3 py-1 text-[10px] font-mono rounded border transition-colors "+(1===s.envDir?"bg-emerald-600/20 border-emerald-500/50 text-emerald-400":"bg-dark-bg border-dark-border text-text-muted hover:text-white"),children:"↑ UP"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:816,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>n({envDir:0}),className:"px-3 py-1 text-[10px] font-mono rounded border transition-colors "+(0===s.envDir?"bg-rose-600/20 border-rose-500/50 text-rose-400":"bg-dark-bg border-dark-border text-text-muted hover:text-white"),children:"↓ DOWN"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:826,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:814,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-dark-border",children:[e.jsxDEV("button",{onClick:()=>n({softEnv:!s.softEnv}),className:"px-2 py-1 text-[9px] font-mono rounded border transition-colors "+(s.softEnv?"bg-cyan-600/20 border-cyan-500/50 text-cyan-400":"bg-dark-bg border-dark-border text-text-muted"),children:"Soft Envelope"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:840,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>n({alwaysInit:!s.alwaysInit}),className:"px-2 py-1 text-[9px] font-mono rounded border transition-colors "+(s.alwaysInit?"bg-cyan-600/20 border-cyan-500/50 text-cyan-400":"bg-dark-bg border-dark-border text-text-muted"),children:"Always Init"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:850,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:839,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:785,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:779,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(E,{size:16,className:"text-emerald-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:867,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Envelope Shape"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:868,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:866,columnNumber:9},void 0),e.jsxDEV(G,{envVol:s.envVol,envLen:s.envLen,soundLen:s.soundLen,envDir:s.envDir},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:870,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:865,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:777,columnNumber:5},void 0)},G=({envVol:o,envLen:r,soundLen:s,envDir:t})=>{const n=i.useRef(null),m=200,d=80;return i.useEffect(()=>{const e=n.current;if(!e)return;const i=e.getContext("2d");if(!i)return;const a=window.devicePixelRatio||1;e.width=m*a,e.height=d*a,i.scale(a,a),i.clearRect(0,0,m,d),i.fillStyle="#020617",i.fillRect(0,0,m,d),i.strokeStyle="#1e293b",i.setLineDash([2,2]);for(let o=0;o<=4;o++){const e=o/4*d;i.beginPath(),i.moveTo(0,e),i.lineTo(m,e),i.stroke()}i.setLineDash([]),i.beginPath(),i.strokeStyle="#34d399",i.lineWidth=2;const l=0===r?1:16-o,c=0===s||s>63?m:s/64*m,u=d-(1===t?0:o)/15*72-4,b=d-(1===t?o:0)/15*72-4;if(i.moveTo(0,u),0===r)i.lineTo(c,u);else{const e=Math.min(l*r*4,c);i.lineTo(e,b),e<c&&i.lineTo(c,b)}i.stroke(),i.font="9px monospace",i.fillStyle="#64748b",i.fillText(`V:${o}`,4,12),i.fillText(`L:${r}`,4,24),i.fillText(1===t?"↑":"↓",188,12)},[o,r,s,t]),e.jsxDEV("canvas",{ref:n,width:m,height:d,className:"w-full rounded border border-dark-border",style:{height:d}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:959,columnNumber:5},void 0)},Y={triOn:!1,sawOn:!0,pulseOn:!1,noiseOn:!1,a:0,d:8,s:8,r:4,duty:2048,ringMod:!1,oscSync:!1,toFilter:!1,filterCutoff:1024,filterResonance:0,filterLP:!1,filterBP:!1,filterHP:!1},H=({config:o,onChange:r})=>{const s=i.useMemo(()=>({...Y,...o.c64}),[o.c64]),n=i.useCallback(e=>{r({c64:{...o.c64,...Y,...e}})},[o.c64,r]);return e.jsxDEV("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-violet-500/30",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(E,{size:16,className:"text-violet-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:988,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Waveform"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:989,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:987,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[{key:"triOn",label:"TRI",wfType:"triangle",active:s.triOn,onColor:"#34d399",borderColor:"border-emerald-500/50",textColor:"text-emerald-400",bgColor:"bg-emerald-600/20"},{key:"sawOn",label:"SAW",wfType:"saw",active:s.sawOn,onColor:"#fbbf24",borderColor:"border-amber-500/50",textColor:"text-amber-400",bgColor:"bg-amber-600/20"},{key:"pulseOn",label:"PULSE",wfType:"square",active:s.pulseOn,onColor:"#22d3ee",borderColor:"border-cyan-500/50",textColor:"text-cyan-400",bgColor:"bg-cyan-600/20"},{key:"noiseOn",label:"NOISE",wfType:"noise",active:s.noiseOn,onColor:"#fb7185",borderColor:"border-rose-500/50",textColor:"text-rose-400",bgColor:"bg-rose-600/20"}].map(({key:o,label:r,wfType:s,active:t,onColor:i,borderColor:m,textColor:d,bgColor:a})=>e.jsxDEV("button",{onClick:()=>n({[o]:!t}),className:"flex flex-col items-center gap-0.5 px-3 py-1.5 rounded border transition-colors "+(t?`${a} ${m} ${d}`:"bg-dark-bg border-dark-border text-text-muted hover:text-white"),children:[e.jsxDEV(L,{type:s,width:40,height:16,color:t?i:"#4b5563",style:"line"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1008,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-[9px] font-mono",children:r},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1014,columnNumber:15},void 0)]},o,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:999,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:992,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:986,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(x,{size:16,className:"text-amber-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1023,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"ADSR Envelope"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1024,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1022,columnNumber:9},void 0),e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV(C,{mode:"adsr",ar:s.a,dr:s.d,rr:s.r,sl:s.s,tl:0,maxRate:15,maxTl:1,color:"#f59e0b",width:260,height:52},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1028,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1027,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between gap-4",children:[e.jsxDEV(t,{label:"A",value:s.a,min:0,max:15,onChange:e=>n({a:Math.round(e)}),size:"md",color:"#f59e0b",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1044,columnNumber:11},void 0),e.jsxDEV(t,{label:"D",value:s.d,min:0,max:15,onChange:e=>n({d:Math.round(e)}),size:"md",color:"#fb923c",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1047,columnNumber:11},void 0),e.jsxDEV(t,{label:"S",value:s.s,min:0,max:15,onChange:e=>n({s:Math.round(e)}),size:"md",color:"#fbbf24",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1050,columnNumber:11},void 0),e.jsxDEV(t,{label:"R",value:s.r,min:0,max:15,onChange:e=>n({r:Math.round(e)}),size:"md",color:"#facc15",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1053,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1043,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1021,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(N,{size:16,className:"text-cyan-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1063,columnNumber:13},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Pulse Width"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1064,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1062,columnNumber:11},void 0),e.jsxDEV(t,{label:"DUTY",value:s.duty,min:0,max:4095,onChange:e=>n({duty:Math.round(e)}),size:"md",color:"#22d3ee",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1066,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1061,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(u,{size:16,className:"text-rose-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1073,columnNumber:13},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Modulation"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1074,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1072,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>n({ringMod:!s.ringMod}),className:"flex-1 px-2 py-2 text-[10px] font-mono rounded border transition-colors "+(s.ringMod?"bg-rose-600/20 border-rose-500/50 text-rose-400":"bg-dark-bg border-dark-border text-text-muted"),children:"RING"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1077,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>n({oscSync:!s.oscSync}),className:"flex-1 px-2 py-2 text-[10px] font-mono rounded border transition-colors "+(s.oscSync?"bg-violet-600/20 border-violet-500/50 text-violet-400":"bg-dark-bg border-dark-border text-text-muted"),children:"SYNC"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1087,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1076,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1071,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1060,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(D,{size:16,className:"text-purple-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1104,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Filter"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1105,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1103,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{onClick:()=>n({toFilter:!s.toFilter}),className:"px-3 py-1 text-[10px] font-mono rounded border transition-colors "+(s.toFilter?"bg-purple-600/20 border-purple-500/50 text-purple-400":"bg-dark-bg border-dark-border text-text-muted"),children:"Enable"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1109,columnNumber:11},void 0),s.toFilter&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(t,{label:"CUT",value:s.filterCutoff??1024,min:0,max:2047,onChange:e=>n({filterCutoff:Math.round(e)}),size:"sm",color:"#a855f7",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1122,columnNumber:15},void 0),e.jsxDEV(t,{label:"RES",value:s.filterResonance??0,min:0,max:15,onChange:e=>n({filterResonance:Math.round(e)}),size:"sm",color:"#c084fc",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1125,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>n({filterLP:!s.filterLP}),className:"px-2 py-1 text-[9px] font-mono rounded border transition-colors "+(s.filterLP?"bg-purple-600/20 border-purple-500/50 text-purple-400":"bg-dark-bg border-dark-border text-text-muted"),children:"LP"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1130,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>n({filterBP:!s.filterBP}),className:"px-2 py-1 text-[9px] font-mono rounded border transition-colors "+(s.filterBP?"bg-purple-600/20 border-purple-500/50 text-purple-400":"bg-dark-bg border-dark-border text-text-muted"),children:"BP"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1140,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>n({filterHP:!s.filterHP}),className:"px-2 py-1 text-[9px] font-mono rounded border transition-colors "+(s.filterHP?"bg-purple-600/20 border-purple-500/50 text-purple-400":"bg-dark-bg border-dark-border text-text-muted"),children:"HP"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1150,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1129,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1121,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1108,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1102,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:984,columnNumber:5},void 0)},K={useEnv:!0,gainMode:0,gain:127,a:15,d:7,s:7,r:0},_=({config:o,onChange:r})=>{const s=i.useMemo(()=>({...K,...o.snes}),[o.snes]),n=i.useCallback(e=>{r({snes:{...o.snes,...K,...e}})},[o.snes,r]);return e.jsxDEV("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-cyan-500/30",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(x,{size:16,className:"text-cyan-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1186,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"SNES Envelope"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1187,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>n({useEnv:!s.useEnv}),className:"ml-auto px-2 py-1 text-[9px] font-mono rounded border transition-colors "+(s.useEnv?"bg-cyan-600/20 border-cyan-500/50 text-cyan-400":"bg-dark-bg border-dark-border text-text-muted"),children:s.useEnv?"ADSR":"GAIN"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1188,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1185,columnNumber:9},void 0),s.useEnv?e.jsxDEV("div",{className:"flex justify-between gap-4",children:[e.jsxDEV(t,{label:"A",value:s.a,min:0,max:15,onChange:e=>n({a:Math.round(e)}),size:"md",color:"#06b6d4",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1202,columnNumber:13},void 0),e.jsxDEV(t,{label:"D",value:s.d,min:0,max:7,onChange:e=>n({d:Math.round(e)}),size:"md",color:"#22d3ee",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1205,columnNumber:13},void 0),e.jsxDEV(t,{label:"S",value:s.s,min:0,max:7,onChange:e=>n({s:Math.round(e)}),size:"md",color:"#67e8f9",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1208,columnNumber:13},void 0),e.jsxDEV(t,{label:"R",value:s.r,min:0,max:31,onChange:e=>n({r:Math.round(e)}),size:"md",color:"#a5f3fc",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1211,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1201,columnNumber:11},void 0):e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-[10px] text-text-muted font-mono block mb-1",children:"Gain Mode"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1218,columnNumber:15},void 0),e.jsxDEV("select",{value:"number"==typeof s.gainMode?s.gainMode:0,onChange:e=>n({gainMode:parseInt(e.target.value)}),className:"bg-dark-bg border border-dark-border rounded px-2 py-1 text-xs text-white",children:["Direct","Inc Linear","Inc Bent","Dec Linear","Dec Exp"].map((o,r)=>e.jsxDEV("option",{value:r,children:o},r,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1225,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1219,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1217,columnNumber:13},void 0),e.jsxDEV(t,{label:"GAIN",value:s.gain,min:0,max:127,onChange:e=>n({gain:Math.round(e)}),size:"md",color:"#06b6d4",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1229,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1216,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1184,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1182,columnNumber:5},void 0)},Z={duty:50,width:50,noiseMode:"white",attack:0,decay:8,sustain:10,release:5},q=({config:o,onChange:r})=>{const s=i.useMemo(()=>({...Z,...o.psg}),[o.psg]),n=i.useCallback(e=>{r({psg:{...o.psg,...Z,...e}})},[o.psg,r]);return e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(V,{size:16,className:"text-sky-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1253,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Pulse Control"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1254,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1252,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-6",children:[e.jsxDEV(t,{label:"DUTY",value:s.duty,min:0,max:100,onChange:e=>n({duty:Math.round(e)}),size:"md",color:"#38bdf8",formatValue:e=>`${Math.round(e)}%`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1257,columnNumber:11},void 0),e.jsxDEV(t,{label:"WIDTH",value:s.width,min:0,max:100,onChange:e=>n({width:Math.round(e)}),size:"md",color:"#0ea5e9",formatValue:e=>`${Math.round(e)}%`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1260,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1256,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1251,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(x,{size:16,className:"text-rose-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1268,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Noise Mode"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1269,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1267,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("button",{onClick:()=>n({noiseMode:"white"}),className:"py-2 font-mono text-[10px] rounded border transition-colors "+("white"===s.noiseMode?"bg-rose-600/20 border-rose-500/50 text-rose-400":"bg-dark-bg border-dark-border text-text-muted hover:bg-rose-950/20"),children:"WHITE"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1272,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>n({noiseMode:"periodic"}),className:"py-2 font-mono text-[10px] rounded border transition-colors "+("periodic"===s.noiseMode?"bg-rose-600/20 border-rose-500/50 text-rose-400":"bg-dark-bg border-dark-border text-text-muted hover:bg-rose-950/20"),children:"PERIODIC"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1282,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1271,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1266,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(N,{size:16,className:"text-emerald-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1297,columnNumber:11},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"Envelope"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1298,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1296,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV(t,{label:"ATK",value:s.attack,min:0,max:15,onChange:e=>n({attack:Math.round(e)}),size:"sm",color:"#34d399",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1301,columnNumber:11},void 0),e.jsxDEV(t,{label:"DEC",value:s.decay,min:0,max:15,onChange:e=>n({decay:Math.round(e)}),size:"sm",color:"#10b981",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1304,columnNumber:11},void 0),e.jsxDEV(t,{label:"SUS",value:s.sustain,min:0,max:15,onChange:e=>n({sustain:Math.round(e)}),size:"sm",color:"#059669",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1307,columnNumber:11},void 0),e.jsxDEV(t,{label:"REL",value:s.release,min:0,max:15,onChange:e=>n({release:Math.round(e)}),size:"sm",color:"#047857",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1310,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1300,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1295,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1250,columnNumber:5},void 0)},Q={sampleRate:44100,loopStart:0,loopEnd:65535,loopPoint:0,bitDepth:8,loopEnabled:!1},J=({config:o,onChange:r})=>{const s=i.useMemo(()=>({...Q,...o.pcm}),[o.pcm]),n=i.useCallback(e=>{r({pcm:{...o.pcm,...Q,...e}})},[o.pcm,r]);return e.jsxDEV("div",{className:"bg-dark-bgSecondary p-4 rounded-lg border border-dark-border animate-in fade-in slide-in-from-top-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(D,{size:16,className:"text-violet-400"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1334,columnNumber:9},void 0),e.jsxDEV("h3",{className:"font-mono text-xs font-bold text-text-primary uppercase",children:"PCM Sample Properties"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1335,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1333,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxDEV(t,{label:"RATE",value:s.sampleRate,min:4e3,max:48e3,onChange:e=>n({sampleRate:Math.round(e)}),size:"sm",color:"#a78bfa",formatValue:e=>`${Math.round(e/1e3)}k`},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1338,columnNumber:9},void 0),e.jsxDEV(t,{label:"START",value:s.loopStart,min:0,max:65535,onChange:e=>n({loopStart:Math.round(e)}),size:"sm",color:"#8b5cf6",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1341,columnNumber:9},void 0),e.jsxDEV(t,{label:"END",value:s.loopEnd,min:0,max:65535,onChange:e=>n({loopEnd:Math.round(e)}),size:"sm",color:"#7c3aed",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1344,columnNumber:9},void 0),e.jsxDEV(t,{label:"LOOP",value:s.loopPoint,min:0,max:65535,onChange:e=>n({loopPoint:Math.round(e)}),size:"sm",color:"#6d28d9",formatValue:e=>String(Math.round(e))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1347,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col items-center justify-center gap-1",children:[e.jsxDEV("span",{className:"text-[9px] font-bold text-text-muted uppercase",children:"Bit Depth"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1351,columnNumber:11},void 0),e.jsxDEV("select",{value:s.bitDepth,onChange:e=>n({bitDepth:parseInt(e.target.value)}),className:"bg-dark-bg px-2 py-1 rounded border border-dark-border text-xs font-mono text-violet-400",children:[8,16].map(o=>e.jsxDEV("option",{value:o,children:[o,"-BIT"]},o,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1358,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1352,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1350,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1337,columnNumber:7},void 0),e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-dark-border",children:e.jsxDEV("button",{onClick:()=>n({loopEnabled:!s.loopEnabled}),className:"px-3 py-1 text-[10px] font-mono rounded border transition-colors "+(s.loopEnabled?"bg-violet-600/20 border-violet-500/50 text-violet-400":"bg-dark-bg border-dark-border text-text-muted"),children:s.loopEnabled?"🔁 Loop Enabled":"Loop Disabled"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1365,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1364,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/editors/FurnaceEditor.tsx",lineNumber:1332,columnNumber:5},void 0)};function ee(e,o){return{0:[0],1:[0],2:[0],3:[0],4:[0,2],5:[0,1,2],6:[0,1,2],7:[0,1,2,3]}[e]?.includes(o)??!1}const oe=["Custom","Violin","Guitar","Piano","Flute","Clarinet","Oboe","Trumpet","Organ","Horn","Synth","Harpsichord","Vibraphone","Synth Bass","Wood Bass","Electric Bass"];export{z as FurnaceControls,z as default};
