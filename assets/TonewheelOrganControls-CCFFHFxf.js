import{aG as e,j as o,aH as s,c as n}from"./index-zx6LJBPK.js";import{r,R as t}from"./vendor-utils-XMmR-oGw.js";import{VSTBridgePanel as l}from"./VSTBridgePanel-D9pws1pV.js";import{w as i}from"./vendor-ui-uomqNFY-.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";const a=9,m=10,c=11,u=12,d=13,N=14,p=15,b=16,x=["16'","5⅓'","8'","4'","2⅔'","2'","1⅗'","1⅓'","1'"],g=["#a0522d","#a0522d","#f0f0f0","#f0f0f0","#222222","#f0f0f0","#222222","#222222","#f0f0f0"],h=["V1","V2","V3","C1","C2","C3"],v=["OFF","2ND","3RD"],f=[8,8,8,0,0,0,0,0,0,0,1,0,.3,2,.5,0,.8],C=({instrument:t,onChange:C})=>{const[O,D]=r.useState([...f]),[E,w]=r.useState(!1),j=r.useRef(null),T="cyan-lineart"===e(e=>e.currentThemeId),y=T?"#00ffff":"#d4a017",B=T?"#00ffff":"#d4a017";r.useEffect(()=>{let e=!1;const o=async()=>{try{const s=n(),r=s.getInstrumentKey(t.id,-1),l=s.instruments?.get(r);if(!l||!("setParameter"in l))return void setTimeout(()=>{e||o()},500);if("ensureInitialized"in l&&await l.ensureInitialized(),j.current=l,"getParams"in l){const o=l.getParams().map(e=>e.defaultValue);e||(D(o),w(!0))}else e||w(!0)}catch{setTimeout(()=>{e||o()},1e3)}};return o(),()=>{e=!0}},[t.id]);const L=r.useCallback((e,o)=>{D(s=>{const n=[...s];return n[e]=o,n}),j.current&&j.current.setParameter(e,o)},[]);if(!E)return o.jsxDEV("div",{className:"flex flex-col gap-4 p-4",children:[o.jsxDEV("div",{className:"flex items-center justify-center gap-2 p-4 text-gray-400",children:[o.jsxDEV(i,{size:16,className:"animate-spin"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:129,columnNumber:11},void 0),o.jsxDEV("span",{className:"text-sm",children:"Loading Tonewheel Organ..."},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:128,columnNumber:9},void 0),o.jsxDEV(l,{instrument:t,onChange:C},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:132,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:127,columnNumber:7},void 0);const U=T?"bg-[#051515] border-cyan-900/50":"bg-[#1a1a1a] border-amber-900/30";return o.jsxDEV("div",{className:"flex flex-col gap-4 p-4 overflow-y-auto",children:[o.jsxDEV("div",{className:`p-4 rounded-xl border ${U}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-4",style:{color:y},children:"Drawbars"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:145,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex justify-center gap-1 sm:gap-2",children:x.map((e,s)=>o.jsxDEV(V,{label:e,value:O[s],color:g[s],accentColor:y,onChange:e=>L(s,e)},s,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:153,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:151,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:144,columnNumber:7},void 0),o.jsxDEV("div",{className:`p-4 rounded-xl border ${U}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-3",style:{color:y},children:"Percussion"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:167,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxDEV("div",{className:"flex gap-1",children:v.map((e,s)=>o.jsxDEV("button",{onClick:()=>L(a,s),className:"px-3 py-1.5 text-xs font-bold rounded transition-all "+(Math.round(O[a])===s?"text-black":"bg-gray-800 text-gray-400 hover:bg-gray-700"),style:Math.round(O[a])===s?{backgroundColor:y}:{},children:e},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:177,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:175,columnNumber:11},void 0),o.jsxDEV("div",{className:"w-px h-8 bg-gray-700"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:192,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex gap-1",children:["SLOW","FAST"].map((e,s)=>o.jsxDEV("button",{onClick:()=>L(m,s),className:"px-3 py-1.5 text-xs font-bold rounded transition-all "+(Math.round(O[m])===s?"text-black":"bg-gray-800 text-gray-400 hover:bg-gray-700"),style:Math.round(O[m])===s?{backgroundColor:y}:{},children:e},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:197,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:195,columnNumber:11},void 0),o.jsxDEV("div",{className:"w-px h-8 bg-gray-700"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:212,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex gap-1",children:["NORM","SOFT"].map((e,s)=>o.jsxDEV("button",{onClick:()=>L(c,s),className:"px-3 py-1.5 text-xs font-bold rounded transition-all "+(Math.round(O[c])===s?"text-black":"bg-gray-800 text-gray-400 hover:bg-gray-700"),style:Math.round(O[c])===s?{backgroundColor:y}:{},children:e},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:217,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:215,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:173,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:166,columnNumber:7},void 0),o.jsxDEV("div",{className:`p-4 rounded-xl border ${U}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-3",style:{color:y},children:"Vibrato / Chorus"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:236,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap items-start gap-6",children:[o.jsxDEV("div",{className:"flex gap-1",children:h.map((e,s)=>o.jsxDEV("button",{onClick:()=>L(d,s),className:"px-3 py-1.5 text-xs font-bold rounded transition-all "+(Math.round(O[d])===s?"text-black":"bg-gray-800 text-gray-400 hover:bg-gray-700"),style:Math.round(O[d])===s?{backgroundColor:y}:{},children:e},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:246,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:244,columnNumber:11},void 0),o.jsxDEV(s,{label:"Depth",value:O[N],min:0,max:1,defaultValue:.5,onChange:e=>L(N,e),size:"sm",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:261,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:242,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:235,columnNumber:7},void 0),o.jsxDEV("div",{className:`p-4 rounded-xl border ${U}`,children:[o.jsxDEV("h3",{className:"font-bold uppercase tracking-tight text-sm mb-3",style:{color:y},children:"Tone & Output"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:276,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex flex-wrap gap-4 justify-center",children:[o.jsxDEV(s,{label:"Click",value:O[u],min:0,max:1,defaultValue:.3,onChange:e=>L(u,e),size:"sm",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:283,columnNumber:11},void 0),o.jsxDEV(s,{label:"Overdrive",value:O[p],min:0,max:1,defaultValue:0,onChange:e=>L(p,e),size:"sm",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:293,columnNumber:11},void 0),o.jsxDEV(s,{label:"Volume",value:O[b],min:0,max:1,defaultValue:.8,onChange:e=>L(b,e),size:"sm",color:B},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:303,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:282,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:275,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:142,columnNumber:5},void 0)},V=t.memo(({label:e,value:s,color:n,accentColor:t,onChange:l})=>{const i=r.useRef(null),a=r.useRef(!1),m=r.useCallback(e=>{if(!i.current)return;const o=i.current.getBoundingClientRect(),s=1-Math.max(0,Math.min(1,(e-o.top)/o.height)),n=Math.round(8*s);l(n)},[l]),c=r.useCallback(e=>{a.current=!0,e.target.setPointerCapture(e.pointerId),m(e.clientY)},[m]),u=r.useCallback(e=>{a.current&&m(e.clientY)},[m]),d=r.useCallback(()=>{a.current=!1},[]),N=s/8*100;return o.jsxDEV("div",{className:"flex flex-col items-center gap-1 select-none",children:[o.jsxDEV("div",{className:"text-xs font-bold font-mono w-5 text-center",style:{color:t},children:Math.round(s)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:370,columnNumber:7},void 0),o.jsxDEV("div",{ref:i,className:"relative w-6 h-28 rounded bg-gray-900 border border-gray-700 cursor-pointer",onPointerDown:c,onPointerMove:u,onPointerUp:d,children:[o.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 rounded-b transition-all duration-75",style:{height:`${N}%`,backgroundColor:n,opacity:.8}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:385,columnNumber:9},void 0),[1,2,3,4,5,6,7].map(e=>o.jsxDEV("div",{className:"absolute left-0 right-0 h-px bg-gray-600 pointer-events-none",style:{bottom:e/8*100+"%"}},e,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:395,columnNumber:11},void 0)),o.jsxDEV("div",{className:"absolute left-0 right-0 h-2 rounded transition-all duration-75",style:{bottom:`calc(${N}% - 4px)`,backgroundColor:n,boxShadow:`0 0 6px ${n}88`}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:402,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:377,columnNumber:7},void 0),o.jsxDEV("div",{className:"text-[10px] text-gray-500 font-mono whitespace-nowrap",children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:412,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/instruments/controls/TonewheelOrganControls.tsx",lineNumber:368,columnNumber:5},void 0)});V.displayName="DrawbarSlider";export{C as TonewheelOrganControls};
