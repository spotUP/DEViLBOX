const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-zx6LJBPK.js","assets/vendor-react-DkDaD07v.js","assets/vendor-utils-XMmR-oGw.js","assets/vendor-tone-CADp_hfL.js","assets/vendor-ui-uomqNFY-.js","assets/index-Cnoi0D0R.css"])))=>i.map(i=>d[i]);
import{bB as e,_ as t,bC as s,j as r,bD as o,u as n,v as a,t as i,bj as c}from"./index-zx6LJBPK.js";import{r as d,R as l}from"./vendor-utils-XMmR-oGw.js";import{u as m,a as f,D as u,c as p,S as b,v as x,s as N,K as E,P as v,b as y,C as g}from"./sortable.esm-Nw3Rboz6.js";import{A as h,u as D,M as V,g as j,E as C}from"./MasterEffectsModal-BHri30Qv.js";import{a as w}from"./MasterEffectsModal-BHri30Qv.js";import{GUITARML_MODEL_REGISTRY as M,getModelCharacteristicDefaults as L}from"./guitarMLRegistry-Ct9uudVS.js";import{d as O,f as B,X as U,S as X,V as k,a2 as P,n as I,aa as S,ab as T,J as z,z as A,G as R,H as F}from"./vendor-ui-uomqNFY-.js";import"./vendor-react-DkDaD07v.js";import"./vendor-tone-CADp_hfL.js";import"./useVisualizationAnimation-D37DdYyX.js";const q=new Set(["Compressor","EQ3"]);function H({effect:e,onToggle:t,onRemove:s,onEdit:o,onWetChange:n}){const{attributes:a,listeners:i,setNodeRef:c,transform:d,transition:l,isDragging:m}=y({id:e.id}),f={transform:g.Transform.toString(d),transition:l,opacity:m?.5:1},{pre:u,post:p}=D(e.id,"waveform"),b="Compressor"===e.type||"SidechainCompressor"===e.type;return r.jsxDEV("div",{ref:c,style:f,className:`\n        bg-dark-bgSecondary border border-dark-border rounded-lg p-3 mb-2\n        ${m?"shadow-lg ring-2 ring-accent-primary":""}\n        ${e.enabled?"":"opacity-60"}\n      `,children:r.jsxDEV("div",{className:"flex items-center gap-3",children:[r.jsxDEV("button",{...a,...i,className:"text-text-muted hover:text-accent-primary cursor-grab active:cursor-grabbing p-1",title:"Drag to reorder",children:r.jsxDEV(P,{size:16},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:76,columnNumber:11},this)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:70,columnNumber:9},this),r.jsxDEV("div",{className:"flex-1",children:[r.jsxDEV("div",{className:"font-medium text-sm text-text-primary",children:e.type},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:81,columnNumber:11},this),r.jsxDEV("div",{className:"text-xs text-text-muted",children:e.enabled?"Active":"Bypassed"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:82,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:80,columnNumber:9},this),r.jsxDEV(V,{post:p,pre:b?u:void 0,grMode:b},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:88,columnNumber:9},this),r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV("span",{className:"text-xs text-text-muted",children:"WET"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:96,columnNumber:11},this),r.jsxDEV("input",{type:"range",min:"0",max:"100",value:e.wet,onChange:e=>n(Number(e.target.value)),className:"w-16 h-1 bg-dark-bg rounded-lg appearance-none cursor-pointer\n                     [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3\n                     [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-primary\n                     [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3\n                     [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-accent-primary [&::-moz-range-thumb]:border-0"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:97,columnNumber:11},this),r.jsxDEV("span",{className:"text-xs text-accent-primary font-mono w-8 text-right",children:[e.wet,"%"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:95,columnNumber:9},this),r.jsxDEV("button",{onClick:o,className:"p-1.5 rounded text-text-muted hover:text-accent-primary hover:bg-dark-bgHover transition-colors",title:"Edit parameters",children:r.jsxDEV(I,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:115,columnNumber:9},this),r.jsxDEV("button",{onClick:t,className:`\n            p-1.5 rounded transition-colors\n            ${e.enabled?"text-accent-success bg-accent-success/10 hover:bg-accent-success/20":"text-text-muted hover:text-accent-error hover:bg-accent-error/10"}\n          `,title:e.enabled?"Disable":"Enable",children:r.jsxDEV(S,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:135,columnNumber:11},this)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:124,columnNumber:9},this),r.jsxDEV("button",{onClick:s,className:"p-1.5 rounded text-text-muted hover:text-accent-error hover:bg-accent-error/10 transition-colors",title:"Remove effect",children:r.jsxDEV(U,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:144,columnNumber:11},this)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:68,columnNumber:7},this)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:59,columnNumber:5},this)}const $="master-fx-user-presets",_=({onEditEffect:n})=>{const[a,i]=d.useState(!1),[c,y]=d.useState(!1),[g,D]=d.useState(!1),[V,j]=d.useState(""),{masterEffects:C,addMasterEffectConfig:w,removeMasterEffect:L,updateMasterEffect:P,reorderMasterEffects:I,setMasterEffects:S}=e(),T=d.useCallback(()=>{try{const e=localStorage.getItem($);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(e=>null!==e&&"object"==typeof e&&"string"==typeof e.name&&Array.isArray(e.effects)):[]}catch{return[]}},[]),z=d.useCallback(e=>{t(async()=>{const{pushToCloud:e}=await import("./index-zx6LJBPK.js").then(e=>e.e9);return{pushToCloud:e}},__vite__mapDeps([0,1,2,3,4,5])).then(({pushToCloud:s})=>{t(async()=>{const{SYNC_KEYS:e}=await import("./index-zx6LJBPK.js").then(e=>e.ea);return{SYNC_KEYS:e}},__vite__mapDeps([0,1,2,3,4,5])).then(({SYNC_KEYS:t})=>{s(t.MASTER_FX_PRESETS,e).catch(()=>{})})})},[]),A=d.useCallback(()=>{if(!V.trim())return;const e=T();e.push({name:V.trim(),effects:C.map(e=>({...e}))}),localStorage.setItem($,JSON.stringify(e)),z(e),j(""),D(!1)},[V,C,T,z]),R=d.useCallback(e=>{const t=e.effects.map((e,t)=>({...e,id:`master-fx-${Date.now()}-${t}`}));S(t),y(!1)},[S]),F=d.useCallback(e=>{const t=e.effects.map((e,t)=>({...e,id:`master-fx-${Date.now()}-${t}`}));S(t),y(!1)},[S]),_=d.useCallback(e=>{const t=T().filter(t=>t.name!==e);localStorage.setItem($,JSON.stringify(t)),z(t)},[T,z]),W=T(),Q=s.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),G=m(f(v),f(E,{coordinateGetter:N})),Y=h.reduce((e,t)=>(e[t.group]||(e[t.group]=[]),e[t.group].push(t),e),{});return r.jsxDEV("div",{className:"bg-dark-bg border border-dark-border rounded-lg overflow-hidden",children:[r.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 bg-dark-bgSecondary border-b border-dark-border",children:[r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV(O,{size:16,className:"text-accent-primary"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:344,columnNumber:11},void 0),r.jsxDEV("span",{className:"font-medium text-sm text-text-primary",children:"Master Effects"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:345,columnNumber:11},void 0),r.jsxDEV("span",{className:"text-xs text-text-muted px-2 py-0.5 bg-dark-bg rounded",children:[C.length," FX"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:346,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:343,columnNumber:9},void 0),r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV("div",{className:"relative",children:[r.jsxDEV("button",{onClick:()=>y(!c),className:"px-3 py-1 text-xs font-medium rounded bg-dark-bg text-text-primary\n                       hover:bg-dark-bgHover transition-colors flex items-center gap-1 border border-dark-border",children:["Presets ",r.jsxDEV(B,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:358,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:353,columnNumber:13},void 0),c&&r.jsxDEV("div",{className:"absolute right-0 top-full mt-1 w-56 bg-dark-bgSecondary border border-dark-border rounded-lg shadow-xl z-50 max-h-80 overflow-y-auto",children:[W.length>0&&r.jsxDEV(r.Fragment,{children:[r.jsxDEV("div",{className:"px-3 py-2 text-xs text-text-muted font-medium uppercase tracking-wide bg-dark-bgTertiary",children:"User Presets"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:366,columnNumber:21},void 0),W.map(e=>r.jsxDEV("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-dark-bgHover cursor-pointer group",children:[r.jsxDEV("span",{onClick:()=>F(e),className:"text-sm text-text-primary flex-1",children:e.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:374,columnNumber:25},void 0),r.jsxDEV("button",{onClick:t=>{t.stopPropagation(),_(e.name)},className:"text-text-muted hover:text-accent-error opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete preset",children:r.jsxDEV(U,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:388,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:380,columnNumber:25},void 0)]},e.name,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:370,columnNumber:23},void 0)),r.jsxDEV("div",{className:"border-t border-dark-border my-1"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:392,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:365,columnNumber:19},void 0),Object.entries(Q).map(([e,t])=>r.jsxDEV("div",{children:[r.jsxDEV("div",{className:"px-3 py-2 text-xs text-text-muted font-medium uppercase tracking-wide bg-dark-bgTertiary",children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:399,columnNumber:21},void 0),t.map(e=>r.jsxDEV("div",{onClick:()=>R(e),className:"px-3 py-2 hover:bg-dark-bgHover cursor-pointer",children:[r.jsxDEV("div",{className:"text-sm text-text-primary",children:e.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:408,columnNumber:25},void 0),r.jsxDEV("div",{className:"text-xs text-text-muted",children:e.description},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:409,columnNumber:25},void 0)]},e.name,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:403,columnNumber:23},void 0))]},e,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:398,columnNumber:19},void 0))]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:352,columnNumber:11},void 0),r.jsxDEV("button",{onClick:()=>D(!0),className:"p-1.5 rounded text-text-muted hover:text-accent-primary hover:bg-dark-bgHover transition-colors",title:"Save current effects as preset",children:r.jsxDEV(X,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:424,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:419,columnNumber:11},void 0),r.jsxDEV("button",{onClick:()=>i(!a),className:"px-3 py-1 text-xs font-medium rounded bg-accent-primary/10 text-accent-primary\n                     hover:bg-accent-primary/20 transition-colors",children:"+ Add Effect"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:427,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:350,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:342,columnNumber:7},void 0),g&&r.jsxDEV("div",{className:"px-4 py-3 bg-dark-bgTertiary border-b border-dark-border",children:r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV("input",{type:"text",placeholder:"Preset name...",value:V,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&A(),"Escape"===e.key&&D(!1)},className:"flex-1 px-3 py-1.5 text-sm bg-dark-bg border border-dark-border rounded text-text-primary\n                       placeholder-text-muted focus:outline-none focus:border-accent-primary",autoFocus:!0},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:441,columnNumber:13},void 0),r.jsxDEV("button",{onClick:A,className:"px-3 py-1.5 text-xs font-medium rounded bg-accent-primary text-white hover:bg-accent-primaryHover transition-colors",children:"Save"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:454,columnNumber:13},void 0),r.jsxDEV("button",{onClick:()=>D(!1),className:"px-3 py-1.5 text-xs font-medium rounded bg-dark-bg text-text-muted hover:text-text-primary border border-dark-border hover:border-dark-borderLight transition-colors",children:"Cancel"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:460,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:440,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:439,columnNumber:9},void 0),a&&r.jsxDEV("div",{className:"p-4 bg-dark-bgTertiary border-b border-dark-border",children:[r.jsxDEV("div",{className:"text-xs text-text-muted mb-3 font-medium",children:"Select Effect Type:"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:473,columnNumber:11},void 0),r.jsxDEV("div",{className:"space-y-3",children:Object.entries(Y).map(([e,t])=>r.jsxDEV("div",{children:[r.jsxDEV("div",{className:"text-xs text-text-muted mb-1.5 uppercase tracking-wide",children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:477,columnNumber:17},void 0),r.jsxDEV("div",{className:"flex flex-wrap gap-1",children:t.map(e=>r.jsxDEV("button",{onClick:()=>(e=>{const t=e.type||"Distortion",s={...o(t)};if("neural"===e.category&&void 0!==e.neuralModelIndex){const t=M[e.neuralModelIndex];t?.parameters&&Object.entries(t.parameters).forEach(([e,t])=>{t&&(s[e]=t.default)})}const r=q.has(t)?100:50;w({category:e.category,type:t,enabled:!0,wet:r,parameters:s,neuralModelIndex:e.neuralModelIndex,neuralModelName:"neural"===e.category?e.label:void 0}),i(!1)})(e),className:"px-2 py-1 text-xs rounded border border-dark-border bg-dark-bg\n                               hover:bg-accent-primary hover:text-white hover:border-accent-primary\n                               transition-colors",children:e.label},e.type??`neural-${e.neuralModelIndex}`,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:480,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:478,columnNumber:17},void 0)]},e,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:476,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:474,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:472,columnNumber:9},void 0),r.jsxDEV("div",{className:"px-4 py-2 bg-dark-bgSecondary border-b border-dark-border",children:r.jsxDEV("div",{className:"flex items-center gap-2 text-xs font-mono text-text-muted overflow-x-auto",children:[r.jsxDEV("span",{className:"text-accent-primary font-bold whitespace-nowrap",children:"INPUT"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:500,columnNumber:11},void 0),r.jsxDEV("span",{children:"→"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:501,columnNumber:11},void 0),C.length>0?C.map((e,t)=>r.jsxDEV(l.Fragment,{children:[r.jsxDEV("span",{className:"whitespace-nowrap "+(e.enabled?"text-accent-success":"text-accent-error"),children:e.type},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:505,columnNumber:17},void 0),t<C.length-1&&r.jsxDEV("span",{children:"→"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:508,columnNumber:52},void 0)]},e.id,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:504,columnNumber:15},void 0)):r.jsxDEV("span",{className:"italic text-text-muted",children:"direct"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:512,columnNumber:13},void 0),r.jsxDEV("span",{children:"→"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:514,columnNumber:11},void 0),r.jsxDEV("span",{className:"text-accent-primary font-bold whitespace-nowrap flex items-center gap-1",children:[r.jsxDEV(k,{size:12},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:516,columnNumber:13},void 0)," OUTPUT"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:515,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:499,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:498,columnNumber:7},void 0),r.jsxDEV("div",{className:"p-4",children:0===C.length?r.jsxDEV("div",{className:"p-8 text-center text-text-muted text-sm border border-dashed border-dark-border rounded-lg",children:"No master effects. All audio passes through unchanged."},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:524,columnNumber:11},void 0):r.jsxDEV(u,{sensors:G,collisionDetection:p,onDragEnd:e=>{const{active:t,over:s}=e;if(s&&t.id!==s.id){const e=C.findIndex(e=>e.id===t.id),r=C.findIndex(e=>e.id===s.id);-1!==e&&-1!==r&&I(e,r)}},children:r.jsxDEV(b,{items:C.map(e=>e.id),strategy:x,children:C.map(e=>r.jsxDEV(H,{effect:e,onToggle:()=>(e=>{const t=C.find(t=>t.id===e);t&&P(e,{enabled:!t.enabled})})(e.id),onRemove:()=>{return t=e.id,void L(t);var t},onEdit:()=>(e=>{n&&n(e)})(e),onWetChange:t=>((e,t)=>{P(e,{wet:t})})(e.id,t)},e.id,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:531,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:529,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:528,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:522,columnNumber:7},void 0),r.jsxDEV("div",{className:"px-4 pb-4",children:r.jsxDEV("div",{className:"text-xs text-text-muted p-3 bg-dark-bgSecondary rounded border border-dark-border",children:[r.jsxDEV("strong",{children:"Tip:"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:548,columnNumber:11},void 0)," Drag effects to reorder the signal chain. Order matters: compression before reverb sounds different than reverb before compression."]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:547,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:546,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/MasterEffectsPanel.tsx",lineNumber:340,columnNumber:5},void 0)},W=[{name:"Small Room",description:"Tight early reflections — drums and percussive sounds",category:"Space",effects:[{category:"wasm",type:"MVerb",enabled:!0,wet:30,parameters:{damping:.7,density:.4,bandwidth:.8,decay:.2,predelay:0,size:.25,gain:1,mix:.4,earlyMix:.8}}]},{name:"Plate Shimmer",description:"Lush plate reverb with long tail — pads and vocals",category:"Space",effects:[{category:"wasm",type:"MVerb",enabled:!0,wet:45,parameters:{damping:.3,density:.8,bandwidth:.6,decay:.75,predelay:.02,size:.9,gain:1,mix:.5,earlyMix:.3}}]},{name:"Cathedral",description:"Massive reverb for epic, cavernous sound",category:"Space",effects:[{category:"tonejs",type:"JCReverb",enabled:!0,wet:55,parameters:{roomSize:.9}},{category:"tonejs",type:"Delay",enabled:!0,wet:18,parameters:{delayTime:.25,feedback:.3}}]},{name:"Spring Tank",description:"Classic dub spring reverb — metallic drip and splash",category:"Space",effects:[{category:"wasm",type:"SpringReverb",enabled:!0,wet:50,parameters:{decay:.6,damping:.35,tension:.5,mix:.4,drip:.7,diffusion:.6}}]},{name:"Ping Pong Hall",description:"Stereo bouncing delay into lush reverb — big stereo image",category:"Space",effects:[{category:"tonejs",type:"PingPongDelay",enabled:!0,wet:30,parameters:{delayTime:.3,feedback:.45,bpmSync:1,syncDivision:"1/8"}},{category:"tonejs",type:"Reverb",enabled:!0,wet:35,parameters:{decay:4,preDelay:.05}}]},{name:"Dub Siren Echo",description:"Space Echo with spring reverb — classic dub siren treatment",category:"Dub",effects:[{category:"tonejs",type:"SpaceEcho",enabled:!0,wet:50,parameters:{mode:4,rate:300,intensity:.65,echoVolume:.85,reverbVolume:.25,bpmSync:1,syncDivision:"1/4"}},{category:"wasm",type:"SpringReverb",enabled:!0,wet:25,parameters:{decay:.5,damping:.4,tension:.45,mix:.35,drip:.6,diffusion:.7}}]},{name:"King Tubby Filter",description:"Resonant dub filter + echo — dramatic sweeps and drops",category:"Dub",effects:[{category:"tonejs",type:"DubFilter",enabled:!0,wet:100,parameters:{cutoff:30,resonance:20,gain:1.3}},{category:"tonejs",type:"SpaceEcho",enabled:!0,wet:35,parameters:{mode:4,rate:375,intensity:.5,echoVolume:.7,reverbVolume:.15,bpmSync:1,syncDivision:"1/8d"}}]},{name:"Phaser Dub",description:"Bi-Phase swirl + tape echo — spacey dub modulation",category:"Dub",effects:[{category:"tonejs",type:"BiPhase",enabled:!0,wet:35,parameters:{rateA:.3,depthA:.7,rateB:3,depthB:.5,feedback:.4,routing:0}},{category:"tonejs",type:"SpaceEcho",enabled:!0,wet:40,parameters:{mode:4,rate:500,intensity:.6,echoVolume:.8,reverbVolume:.2,bpmSync:1,syncDivision:"1/4"}}]},{name:"Tape Echo Wash",description:"RE Tape Echo with wow and flutter — degraded repeats",category:"Dub",effects:[{category:"tonejs",type:"RETapeEcho",enabled:!0,wet:45,parameters:{mode:3,repeatRate:.5,intensity:.6,echoVolume:.8,wow:.3,flutter:.2,dirt:.15,inputBleed:.05,loopAmount:0,playheadFilter:1}}]},{name:"VHS Tape",description:"Wobbly vibrato + bit reduction + rolloff — old VHS audio",category:"Lo-Fi",effects:[{category:"tonejs",type:"BitCrusher",enabled:!0,wet:25,parameters:{bits:12}},{category:"tonejs",type:"Vibrato",enabled:!0,wet:30,parameters:{frequency:4,depth:.08}},{category:"tonejs",type:"Filter",enabled:!0,wet:100,parameters:{frequency:6e3,type:"lowpass",Q:.5}}]},{name:"Vinyl Record",description:"Full vinyl simulation — crackle, dust, RIAA EQ, worn stylus",category:"Lo-Fi",effects:[{category:"wasm",type:"VinylNoise",enabled:!0,wet:40,parameters:{hiss:40,dust:50,age:40,speed:5.5,riaa:55,stylusResonance:45,wornStylus:30,pinch:30,innerGroove:20,ghostEcho:15,dropout:8,warp:8,eccentricity:15}}]},{name:"Broken Sampler",description:"Heavy bit-crush + distortion — 8-bit destruction",category:"Lo-Fi",effects:[{category:"tonejs",type:"BitCrusher",enabled:!0,wet:55,parameters:{bits:6}},{category:"tonejs",type:"Distortion",enabled:!0,wet:30,parameters:{distortion:.4}},{category:"tonejs",type:"Filter",enabled:!0,wet:100,parameters:{frequency:5e3,type:"lowpass",Q:1.5}}]},{name:"Cassette Dub",description:"Tape sim + delay — dubbed-to-tape degradation with echo",category:"Lo-Fi",effects:[{category:"wasm",type:"TapeSimulator",enabled:!0,wet:50,parameters:{drive:35,character:50,bias:50,shame:30,hiss:25,speed:0}},{category:"tonejs",type:"FeedbackDelay",enabled:!0,wet:22,parameters:{delayTime:.3,feedback:.3}}]},{name:"Turntable",description:"ToneArm vinyl playback — wow, flutter, cartridge coloring",category:"Lo-Fi",effects:[{category:"wasm",type:"ToneArm",enabled:!0,wet:50,parameters:{wow:25,coil:55,flutter:20,riaa:60,stylus:35,hiss:15,pops:12,rpm:33.333}}]},{name:"Warm Overdrive",description:"Tape saturation + gentle filter — warm crunch without harshness",category:"Grit",effects:[{category:"tonejs",type:"TapeSaturation",enabled:!0,wet:60,parameters:{drive:55,tone:9e3}},{category:"tonejs",type:"Filter",enabled:!0,wet:100,parameters:{frequency:1e4,type:"lowpass",Q:.7}}]},{name:"Industrial",description:"Harsh distortion + hard compression — aggressive and metallic",category:"Grit",effects:[{category:"tonejs",type:"Distortion",enabled:!0,wet:50,parameters:{distortion:.65}},{category:"tonejs",type:"Compressor",enabled:!0,wet:100,parameters:{threshold:-10,ratio:8,attack:.001,release:.08}},{category:"tonejs",type:"EQ3",enabled:!0,wet:100,parameters:{low:3,mid:2,high:4}}]},{name:"Fuzz Box",description:"Chebyshev waveshaper — thick fuzzy harmonics",category:"Grit",effects:[{category:"tonejs",type:"Chebyshev",enabled:!0,wet:55,parameters:{order:6}},{category:"tonejs",type:"Filter",enabled:!0,wet:100,parameters:{frequency:7e3,type:"lowpass",Q:1}}]},{name:"Acid Screamer",description:"Moog filter + distortion — resonant acid squelch",category:"Grit",effects:[{category:"wasm",type:"MoogFilter",enabled:!0,wet:100,parameters:{cutoff:2e3,resonance:70,drive:.6,model:0,filterMode:0}},{category:"tonejs",type:"Distortion",enabled:!0,wet:25,parameters:{distortion:.3}}]},{name:"Thick Chorus",description:"Deep chorus + widener — lush detuned thickening",category:"Modulation",effects:[{category:"tonejs",type:"Chorus",enabled:!0,wet:45,parameters:{frequency:.5,depth:.6}},{category:"tonejs",type:"StereoWidener",enabled:!0,wet:100,parameters:{width:.6}}]},{name:"Leslie Cabinet",description:"Rotary speaker simulation — organ/keys dream effect",category:"Modulation",effects:[{category:"wasm",type:"Leslie",enabled:!0,wet:60,parameters:{speed:1,hornRate:6.8,drumRate:5.9,hornDepth:.7,drumDepth:.5,doppler:.6,width:.8,acceleration:.5}}]},{name:"Phaser Jet",description:"Deep bi-phase sweep — classic jet phaser sound",category:"Modulation",effects:[{category:"tonejs",type:"BiPhase",enabled:!0,wet:50,parameters:{rateA:.2,depthA:.8,rateB:.15,depthB:.9,feedback:.6,routing:1}}]},{name:"Tremolo Gate",description:"Fast tremolo + auto-panner — rhythmic gating and movement",category:"Modulation",effects:[{category:"tonejs",type:"Tremolo",enabled:!0,wet:70,parameters:{frequency:8,depth:.8}},{category:"tonejs",type:"AutoPanner",enabled:!0,wet:40,parameters:{frequency:2}}]},{name:"Wah Sweep",description:"Auto-wah + phaser — funky envelope-following filter",category:"Modulation",effects:[{category:"tonejs",type:"AutoWah",enabled:!0,wet:65,parameters:{baseFrequency:300,octaves:4,sensitivity:-20,Q:4}},{category:"tonejs",type:"Phaser",enabled:!0,wet:20,parameters:{frequency:.5,octaves:3,baseFrequency:500,Q:4}}]},{name:"Ambient Space",description:"Long reverb + ping-pong delay — infinite soundscape",category:"Ambient",effects:[{category:"tonejs",type:"Reverb",enabled:!0,wet:50,parameters:{decay:6,preDelay:.06}},{category:"tonejs",type:"PingPongDelay",enabled:!0,wet:30,parameters:{delayTime:.4,feedback:.5,bpmSync:1,syncDivision:"1/4d"}}]},{name:"Dreamy Haze",description:"Chorus + long reverb + LP filter — soft and floaty",category:"Ambient",effects:[{category:"tonejs",type:"Chorus",enabled:!0,wet:35,parameters:{frequency:.3,depth:.5}},{category:"tonejs",type:"Reverb",enabled:!0,wet:55,parameters:{decay:6,preDelay:.08}},{category:"tonejs",type:"Filter",enabled:!0,wet:100,parameters:{frequency:5e3,type:"lowpass",Q:.5}}]},{name:"Underwater",description:"Deep LP filter + chorus + reverb — submerged and murky",category:"Ambient",effects:[{category:"tonejs",type:"Filter",enabled:!0,wet:100,parameters:{frequency:1200,type:"lowpass",Q:2}},{category:"tonejs",type:"Chorus",enabled:!0,wet:40,parameters:{frequency:.4,depth:.6}},{category:"tonejs",type:"Reverb",enabled:!0,wet:50,parameters:{decay:4,preDelay:.03}}]},{name:"Frozen",description:"Massive plate + pitch shift + delay — glacial, crystalline",category:"Ambient",effects:[{category:"tonejs",type:"PitchShift",enabled:!0,wet:20,parameters:{pitch:12,windowSize:.1,delayTime:0,feedback:.1}},{category:"wasm",type:"MVerb",enabled:!0,wet:60,parameters:{damping:.2,density:.9,bandwidth:.4,decay:.9,predelay:.05,size:1,gain:1,mix:.5,earlyMix:.2}},{category:"tonejs",type:"FeedbackDelay",enabled:!0,wet:25,parameters:{delayTime:.5,feedback:.55}}]},{name:"Radiowave",description:"Bandpass filter + bit-crush + tremolo — AM radio transmission",category:"Texture",effects:[{category:"tonejs",type:"Filter",enabled:!0,wet:100,parameters:{frequency:2e3,type:"bandpass",Q:3}},{category:"tonejs",type:"BitCrusher",enabled:!0,wet:20,parameters:{bits:10}},{category:"tonejs",type:"Tremolo",enabled:!0,wet:15,parameters:{frequency:.2,depth:.3}}]},{name:"Haunted",description:"Pitch shift down + spring reverb + distortion — horror texture",category:"Texture",effects:[{category:"tonejs",type:"PitchShift",enabled:!0,wet:30,parameters:{pitch:-5,windowSize:.08,delayTime:.05,feedback:.2}},{category:"wasm",type:"SpringReverb",enabled:!0,wet:40,parameters:{decay:.7,damping:.3,tension:.6,mix:.4,drip:.8,diffusion:.5}},{category:"tonejs",type:"Distortion",enabled:!0,wet:15,parameters:{distortion:.2}}]},{name:"Cosmic",description:"Frequency shifter + delay + reverb — alien transmission",category:"Texture",effects:[{category:"tonejs",type:"FrequencyShifter",enabled:!0,wet:35,parameters:{frequency:50}},{category:"tonejs",type:"PingPongDelay",enabled:!0,wet:35,parameters:{delayTime:.3,feedback:.5}},{category:"tonejs",type:"Reverb",enabled:!0,wet:40,parameters:{decay:5,preDelay:.04}}]},{name:"Moog Acid",description:"Moog ladder filter + Leslie rotary — squelchy and swirling",category:"Texture",effects:[{category:"wasm",type:"MoogFilter",enabled:!0,wet:100,parameters:{cutoff:1500,resonance:60,drive:.4,model:0,filterMode:0}},{category:"wasm",type:"Leslie",enabled:!0,wet:30,parameters:{speed:1,hornRate:6,drumRate:5.5,hornDepth:.5,drumDepth:.3,doppler:.4,width:.7,acceleration:.5}}]},{name:"Shoegaze",description:"Chorus + distortion + massive reverb — wall of sound",category:"Texture",effects:[{category:"tonejs",type:"Chorus",enabled:!0,wet:40,parameters:{frequency:.8,depth:.7}},{category:"tonejs",type:"TapeSaturation",enabled:!0,wet:40,parameters:{drive:50,tone:8e3}},{category:"tonejs",type:"Reverb",enabled:!0,wet:60,parameters:{decay:7,preDelay:.04}}]}],Q=({isOpen:e,onClose:t})=>{const[s,o]=d.useState(null),[m,f]=d.useState(!1),[u,p]=d.useState(""),{instruments:b,currentInstrumentId:x,addEffectConfig:N,removeEffect:E,updateEffect:v,updateInstrument:y}=n(),g=b.find(e=>e.id===x),D=d.useRef(0),V=d.useRef(null);l.useLayoutEffect(()=>{V.current=s},[s]);const w=d.useCallback(e=>{if(null===x)return;const t=e.effects.map((e,t)=>({...e,id:`instrument-fx-${++D.current}-${t}`}));y(x,{effects:t}),f(!1),a.success(`Applied ${e.name} to ${g?.name}`)},[x,y,g?.name]),X=g?.effects||[],k=X.filter(e=>"neural"===e.category).length,P=d.useCallback(e=>{if(null===x)return;if("neural"===e.category&&k>=3){if(!window.confirm("Performance Warning\n\nYou are adding a 4th neural effect. Multiple neural effects can cause high CPU usage and audio glitches.\n\nConsider using Tone.js effects or reducing the neural effect count.\n\nContinue anyway?"))return}const t={id:"effect-"+ ++D.current,category:e.category,type:e.type||"Distortion",enabled:!0,wet:100,parameters:{},neuralModelIndex:e.neuralModelIndex,neuralModelName:"neural"===e.category?e.label:void 0};if("neural"===e.category&&void 0!==e.neuralModelIndex){const s=M[e.neuralModelIndex];if(s?.parameters){Object.entries(s.parameters).forEach(([e,s])=>{s&&(t.parameters[e]=s.default)});const e=L(s.characteristics.gain,s.characteristics.tone);Object.assign(t.parameters,e)}}N(x,t)},[x,k,N]),S=d.useCallback(e=>{null!==x&&E(x,e)},[x,E]),q=d.useCallback(e=>{const t=X.find(t=>t.id===e);t&&null!==x&&v(x,e,{enabled:!t.enabled})},[X,x,v]),H=d.useCallback((e,t)=>{null!==x&&v(x,e,{wet:t})},[x,v]),$=d.useCallback(e=>{e.target===e.currentTarget&&t()},[t]),_=j(),Q=d.useMemo(()=>{if(!u.trim())return _;const e=u.toLowerCase(),t={};for(const[s,r]of Object.entries(_)){const o=r.filter(t=>t.label.toLowerCase().includes(e));o.length>0&&(t[s]=o)}return t},[_,u]);return e&&g?r.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:$,children:r.jsxDEV("div",{className:"bg-dark-bg border border-dark-border rounded-xl shadow-2xl w-[95vw] h-[90vh] max-w-[1200px] flex flex-col overflow-hidden animate-scale-in",children:[r.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-border bg-dark-bgSecondary",children:[r.jsxDEV("div",{className:"flex items-center gap-3",children:[r.jsxDEV(O,{size:20,className:"text-accent-primary"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:165,columnNumber:13},void 0),r.jsxDEV("h2",{className:"text-lg font-bold text-text-primary",children:[g.name||`Instrument ${g.id}`," Effects"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:166,columnNumber:13},void 0),r.jsxDEV("span",{className:"text-xs text-text-muted px-2 py-1 bg-dark-bg rounded",children:g.synthType},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:169,columnNumber:13},void 0),r.jsxDEV("span",{className:"text-[10px] text-accent-info px-2 py-1 bg-accent-info/10 rounded",children:[h.length," effects available"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:172,columnNumber:13},void 0),r.jsxDEV("div",{className:"relative ml-2",children:[r.jsxDEV("button",{onClick:()=>f(!m),className:"px-4 py-2 text-sm font-medium rounded-lg bg-dark-bgTertiary text-text-primary\n                         hover:bg-dark-bgHover transition-colors flex items-center gap-2 border border-dark-border",children:["Presets ",r.jsxDEV(B,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:183,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:178,columnNumber:15},void 0),m&&r.jsxDEV("div",{className:"absolute left-0 top-full mt-2 w-72 bg-dark-bgSecondary border border-dark-border rounded-lg shadow-xl z-50 max-h-[60vh] overflow-y-auto scrollbar-modern",children:Object.entries(W.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{})).map(([e,t])=>r.jsxDEV("div",{children:[r.jsxDEV("div",{className:"px-4 py-2 text-xs text-text-muted font-medium uppercase tracking-wide bg-dark-bgTertiary sticky top-0",children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:195,columnNumber:23},void 0),t.map(e=>r.jsxDEV("div",{onClick:()=>w(e),className:"px-4 py-3 hover:bg-dark-bgHover cursor-pointer",children:[r.jsxDEV("div",{className:"text-sm text-text-primary",children:e.name},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:204,columnNumber:27},void 0),r.jsxDEV("div",{className:"text-xs text-text-muted",children:e.description},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:205,columnNumber:27},void 0)]},e.name,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:199,columnNumber:25},void 0))]},e,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:194,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:187,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:177,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:164,columnNumber:11},void 0),k>=3&&r.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[r.jsxDEV(T,{size:14,className:"text-yellow-500"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:218,columnNumber:15},void 0),r.jsxDEV("span",{className:"text-xs text-yellow-500 font-medium",children:[k," neural effects - High CPU usage"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:219,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:217,columnNumber:13},void 0),r.jsxDEV("button",{onClick:()=>{i.getState().instrumentEffectsPoppedOut?c("DEViLBOX — Instrument Effects"):(t(),i.getState().setInstrumentEffectsPoppedOut(!0))},className:"p-2 rounded-lg hover:bg-dark-bgHover transition-colors text-text-muted hover:text-cyan-400",title:"Pop out to separate window",children:r.jsxDEV(z,{size:20},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:239,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:226,columnNumber:11},void 0),r.jsxDEV("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-bgHover transition-colors text-text-muted hover:text-text-primary",children:r.jsxDEV(U,{size:24},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:247,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:243,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:163,columnNumber:9},void 0),r.jsxDEV("div",{className:"flex-1 overflow-hidden flex",children:[r.jsxDEV("div",{className:"w-1/2 border-r border-dark-border flex flex-col",children:[r.jsxDEV("div",{className:"p-4 border-b border-dark-border bg-dark-bgSecondary",children:[r.jsxDEV("h3",{className:"text-sm font-bold text-text-primary mb-3",children:"Effect Chain"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:256,columnNumber:15},void 0),r.jsxDEV("p",{className:"text-xs text-text-muted",children:[X.length," effect",1!==X.length?"s":""," active",k>0&&` • ${k} neural`]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:255,columnNumber:13},void 0),r.jsxDEV("div",{className:"flex-1 overflow-y-auto scrollbar-modern p-4",children:0===X.length?r.jsxDEV("div",{className:"p-8 text-center text-text-muted text-sm border border-dashed border-dark-border rounded-lg",children:"No effects. Add from the panel on the right →"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:265,columnNumber:17},void 0):X.map(e=>r.jsxDEV("div",{className:`\n                      bg-dark-bgSecondary border rounded-lg p-4 mb-3 cursor-pointer transition-all\n                      ${e.enabled?"":"opacity-60"}\n                      ${s?.id===e.id?"border-accent-primary bg-accent-primary/5":"border-dark-border hover:border-dark-borderLight"}\n                    `,onClick:()=>o(e),children:r.jsxDEV("div",{className:"flex items-center gap-3",children:[r.jsxDEV("div",{className:"flex-1",children:[r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV("span",{className:"font-medium text-sm text-text-primary",children:e.neuralModelName||e.type},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:283,columnNumber:27},void 0),"neural"===e.category&&r.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded text-[10px] text-purple-300",children:[r.jsxDEV(A,{size:10},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:289,columnNumber:31},void 0),"Neural"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:288,columnNumber:29},void 0),"wam"===e.category&&r.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-cyan-500/20 to-teal-500/20 border border-cyan-500/30 rounded text-[10px] text-cyan-300",children:[r.jsxDEV(R,{size:10},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:295,columnNumber:31},void 0),"WAM"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:294,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:282,columnNumber:25},void 0),r.jsxDEV("div",{className:"text-xs text-text-muted",children:[e.enabled?"Active":"Bypassed"," • Wet: ",e.wet,"%"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:300,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:281,columnNumber:23},void 0),r.jsxDEV("div",{className:"flex items-center gap-2",onClick:e=>e.stopPropagation(),children:[r.jsxDEV("div",{className:"flex items-center gap-2",children:r.jsxDEV("input",{type:"range",min:"0",max:"100",value:e.wet,onChange:t=>H(e.id,Number(t.target.value)),className:"w-20 h-1 bg-dark-bg rounded-lg appearance-none cursor-pointer\n                                     [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3\n                                     [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-primary"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:309,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:308,columnNumber:25},void 0),r.jsxDEV("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"p-2 rounded text-text-muted hover:text-accent-primary hover:bg-dark-bgHover transition-colors",title:"Edit parameters",children:r.jsxDEV(I,{size:16},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:330,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:322,columnNumber:25},void 0),r.jsxDEV("button",{onClick:t=>{t.stopPropagation(),q(e.id)},className:`\n                            p-2 rounded transition-colors\n                            ${e.enabled?"text-accent-success bg-accent-success/10 hover:bg-accent-success/20":"text-text-muted hover:text-accent-error hover:bg-accent-error/10"}\n                          `,title:e.enabled?"Disable":"Enable",children:r.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsxDEV("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:349,columnNumber:29},void 0),r.jsxDEV("line",{x1:"12",y1:"2",x2:"12",y2:"12"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:350,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:348,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:334,columnNumber:25},void 0),r.jsxDEV("button",{onClick:t=>{t.stopPropagation(),S(e.id)},className:"p-2 rounded text-text-muted hover:text-accent-error hover:bg-accent-error/10 transition-colors",title:"Remove effect",children:r.jsxDEV(U,{size:16},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:363,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:355,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:306,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:279,columnNumber:21},void 0)},e.id,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:270,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:263,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:254,columnNumber:11},void 0),r.jsxDEV("div",{className:"w-1/2 flex flex-col",children:s?r.jsxDEV(r.Fragment,{children:[r.jsxDEV("div",{className:"p-4 border-b border-dark-border bg-dark-bgSecondary flex items-center justify-between",children:[r.jsxDEV("div",{children:[r.jsxDEV("h3",{className:"text-sm font-bold text-text-primary flex items-center gap-2",children:[s.neuralModelName||s.type," Parameters","neural"===s.category&&r.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded text-[10px] text-purple-300",children:[r.jsxDEV(A,{size:10},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:383,columnNumber:27},void 0),"Neural"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:382,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:379,columnNumber:21},void 0),r.jsxDEV("p",{className:"text-xs text-text-muted",children:"Adjust effect settings"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:388,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:378,columnNumber:19},void 0),r.jsxDEV("button",{onClick:()=>o(null),className:"text-xs text-text-muted hover:text-accent-primary transition-colors",children:"Back to Add"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:390,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:377,columnNumber:17},void 0),r.jsxDEV("div",{className:"flex-1 overflow-y-auto scrollbar-modern p-4",children:r.jsxDEV(C,{effect:s,onUpdateParameter:(e,t)=>{const s=V.current;if(!s)return;const r={parameters:{...s.parameters,[e]:t}};null!==x&&v(x,s.id,r),o({...s,...r})},onUpdateWet:e=>{const t=V.current;t&&null!==x&&(v(x,t.id,{wet:e}),o({...t,wet:e}))}},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:398,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:397,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:376,columnNumber:15},void 0):r.jsxDEV(r.Fragment,{children:[r.jsxDEV("div",{className:"p-4 border-b border-dark-border bg-dark-bgSecondary space-y-3",children:[r.jsxDEV("div",{children:[r.jsxDEV("h3",{className:"text-sm font-bold text-text-primary",children:"Add Effect"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:422,columnNumber:21},void 0),r.jsxDEV("p",{className:"text-xs text-text-muted",children:["All ",h.length," effects available"]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:423,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:421,columnNumber:19},void 0),r.jsxDEV("div",{className:"relative",children:[r.jsxDEV(F,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:428,columnNumber:21},void 0),r.jsxDEV("input",{type:"text",placeholder:"Search effects...",value:u,onChange:e=>p(e.target.value),className:"w-full pl-9 pr-8 py-2 text-sm bg-dark-bg border border-dark-border rounded-lg text-text-primary\n                               placeholder-text-muted focus:outline-none focus:border-accent-primary transition-colors"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:429,columnNumber:21},void 0),u&&r.jsxDEV("button",{onClick:()=>p(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary transition-colors",children:r.jsxDEV(U,{size:14},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:442,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:438,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:427,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:420,columnNumber:17},void 0),r.jsxDEV("div",{className:"flex-1 overflow-y-auto scrollbar-modern p-4",children:r.jsxDEV("div",{className:"space-y-4",children:[0===Object.keys(Q).length?r.jsxDEV("div",{className:"p-8 text-center text-text-muted text-sm",children:['No effects matching "',u,'"']},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:450,columnNumber:23},void 0):null,Object.entries(Q).map(([e,t])=>r.jsxDEV("div",{children:[r.jsxDEV("h4",{className:"text-xs text-text-muted font-medium uppercase tracking-wide mb-2",children:e},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:456,columnNumber:25},void 0),r.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:t.map(e=>r.jsxDEV("button",{onClick:()=>P(e),className:"px-3 py-2 text-sm rounded-lg border border-dark-border bg-dark-bgSecondary\n                                       hover:bg-accent-primary hover:text-white hover:border-accent-primary\n                                       transition-colors text-left flex items-center justify-between gap-2",children:[r.jsxDEV("span",{className:"truncate",children:e.label},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:468,columnNumber:31},void 0),"neural"===e.category&&r.jsxDEV(A,{size:12,className:"flex-shrink-0 opacity-60"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:471,columnNumber:33},void 0),"wam"===e.category&&r.jsxDEV(R,{size:12,className:"flex-shrink-0 opacity-60"},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:474,columnNumber:33},void 0)]},e.label,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:461,columnNumber:29},void 0))},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:459,columnNumber:25},void 0)]},e,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:455,columnNumber:23},void 0))]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:448,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:447,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:419,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:374,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:252,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:161,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/spot/Code/DEViLBOX/src/components/effects/InstrumentEffectsModal.tsx",lineNumber:157,columnNumber:5},void 0):null};export{C as EffectParameterEditor,Q as InstrumentEffectsModal,w as MasterEffectsModal,_ as MasterEffectsPanel};
